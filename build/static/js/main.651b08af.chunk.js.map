{"version":3,"sources":["constants/actionTypes.js","api/index.js","actions/posts.js","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","components/styles.js","components/Pagination.jsx","components/Home/styles.js","components/Home/Home.js","components/Navbar/styles.js","components/Navbar/Navbar.js","components/Navbar/NavigationBar.js","components/Auth/styles.js","components/Auth/Input.js","components/Auth/Auth.js","actions/auth.js","actions/users.js","components/User/styles.js","components/User/Input.js","components/User/Profile.js","actions/chat/message.js","actions/chat/conversation.js","components/Chat/Conversation.js","components/Chat/Messages.js","components/Chat/Message.js","components/User/UserList.js","components/Chat/Input.js","components/Chat/Chat.js","components/PostDetails/styles.js","components/PostDetails/PostDetails.jsx","App.js","reducers/auth.js","reducers/index.js","reducers/chat/conversations.js","reducers/chat/conversations-conversation-id.js","reducers/chat/messages.js","reducers/posts.js","reducers/users.js","index.js"],"names":["LOGOUT","API","axios","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","Authorization","JSON","parse","token","fetchPost","id","get","fetchPosts","page","likePost","patch","updatePost","updatedPost","deletePost","delete","signIn","formData","post","signUp","updateUser","updatedUser","fetchConversation","userId","fetchMessages","conversationId","getPostsBySearch","searchquery","dispatch","a","type","searchQuery","search","tags","data","payload","console","log","createPost","history","newPost","push","_id","api","makeStyles","media","height","paddingTop","backgroundColor","backgroundBlendMode","border","fullHeightCard","card","display","flexDirection","justifyContent","borderRadius","position","overlay","top","left","color","overlay2","right","grid","details","margin","title","padding","cardActions","cardAction","textAlign","Post","setCurrentId","useDispatch","classes","useStyles","user","useHistory","useState","Likes","likes","length","find","like","result","googleId","fontSize","creator","Card","className","raised","elevation","ButtonBase","component","onClick","CardMedia","image","selectedFile","Typography","variant","owner","moment","createdAt","fromNow","Button","style","size","map","tag","gutterBottom","CardContent","message","CardActions","disabled","undefined","theme","mainContainer","alignItems","smMargin","spacing","actionDiv","Posts","useSelector","state","posts","isLoading","CircularProgress","Grid","container","key","item","xs","sm","md","lg","root","paper","form","flexWrap","fileInput","width","buttonSubmit","marginBottom","Form","currentId","postData","setPostData","useEffect","clear","handleSubmit","e","preventDefault","firstname","Paper","autoComplete","noValidate","onSubmit","TextField","name","label","fullWidth","value","onChange","target","multiline","rows","split","multiple","onDone","base64","align","ul","Paginate","numberOfPages","getPosts","Pagination","count","Number","renderItem","PaginationItem","Link","to","appBarSearch","pagination","marginTop","gridContainer","breakpoints","down","mainDiv","Home","query","URLSearchParams","useLocation","setSearch","setTags","searchPost","trim","join","Grow","in","Container","maxWidth","justify","AppBar","onKeyPress","keyCode","onAdd","onDelete","tagToDelete","filter","searchButton","appBar","rightDiv","paddingRight","fontWeight","leftDiv","paddingLeft","heading","fontFamily","textDecoration","marginLeft","profile","userName","avatar","palette","getContrastText","deepPurple","Navbar","setUser","location","logout","actionType","decode","exp","Date","getTime","Toolbar","Avatar","alt","src","imageUrl","charAt","siteTitle","letterSpacing","toolbar","up","menuBox","menuOption","menuIcon","secondary","main","submit","googleButton","Input","handleChange","half","autoFocus","handleShowPassword","required","InputProps","endAdornment","InputAdornment","IconButton","initialState","firstName","lastName","email","password","confirmPassword","SignUp","setForm","isSignup","setIsSignup","showPassword","setShowPassword","router","signin","prevIsSignup","float","defaultValue","lastname","Profile","currentUserId","getMessages","getConversation","setConversationWith","socket","io","overflowY","purple","Label","paddingBottom","UserContent","Conversation","conversation","conversations","conversation_data","conversation_id","conversation_name","conversationData","setConversationData","updatingFlag","setUpdatingFlag","on","Messages","justifyContentVal","setJustifyContentVal","setBackgroundColor","currentUser","background","content","scrollFeed","Message","messages","typing","SetTyping","emitMessageRespond","setEmitMessageRespond","conversation_with","userLink","UserList","userlist","users","participants","setParticipants","error","Box","messageTextfield","sendButton","messsageData","setMessageData","keyPressCount","setKeyPressCount","lastMessageId","conAndMsgData","myMessage","setMyMessage","handleMessage","prev","newMessage","emit","conversationAndMessage","newConversationAndMessage","messageBody","controller","messagePaper","Chat","objectFit","maxHeight","section","flex","imageSection","recommendedPosts","loadingPaper","PostDetails","useParams","getPost","Divider","cursor","openPost","App","path","exact","Auth","authReducer","authData","action","setItem","stringify","loading","errors","combineReducers","auth","currentPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.651b08af.chunk.js","sourcesContent":["export const CREATE = 'CREATE';\nexport const UPDATE = 'UPDATE';\nexport const DELETE = 'DELETE';\nexport const FETCH = 'FETCH';\nexport const FETCH_ALL = 'FETCH_ALL';\nexport const FETCH_BY_SEARCH = 'FETCH_BY_SEARCH';\nexport const LIKE = 'LIKE';\n\nexport const AUTH = 'AUTH';\nexport const LOGOUT = 'LOGOUT';\n\n//USERS\nexport const FETCH_USERS = 'FETCH_USERS';\n\n//POSTS\nexport const FETCH_POST = 'FETCH_POST';\nexport const FETCH_POSTS = 'FETCH_POSTS';\n\n//CONVERSATION\nexport const FETCH_CONVERSATION = 'FETCH_CONVERSATION';\nexport const FETCH_CONVERSATIONS = 'FETCH_CONVERSATIONS';\nexport const SET_CONVERSATION_ID = 'SET_CONVERSATION';\nexport const GET_CONVERSATION_ID = 'GET_CONVERSATION';\nexport const SET_CONVERSATION_WITH = 'SET_CONVERSATION_WITH';\nexport const CREATE_CONVERSATION = 'CREATE_CONVERSATION';\nexport const CREATE_CONVERSATION_AND_MESSAGE = 'CREATE_CONVERSATION_AND_MESSAGE';\nexport const RESET_CONVERSATION_DATA = 'RESET_CONVERSATION_DATA';\n\n//MESSAGE\nexport const FETCH_MESSAGE = 'FETCH_MESSAGE';\nexport const FETCH_MESSAGES = 'FETCH_MESSAGES';\nexport const CREATE_MESSAGE = 'CREATE_MESSAGE';\nexport const RESET_MESSAGES = 'RESET_MESSAGES';\n\n//NEW\nexport const START_LOADING = 'START_LOADING';\nexport const END_LOADING = 'END_LOADING';\n","import axios from 'axios';\n \n//cloud\nconst API = axios.create({ baseURL: 'https://merntradebaits.herokuapp.com/' });\n//  const API = axios.create({ baseURL: 'https://kamonrarara.herokuapp.com' });\n\n//local\n// const API = axios.create({ baseURL: 'http://localhost:5555' });\n\nAPI.interceptors.request.use((req) => {\n  if (localStorage.getItem('profile')) {\n    req.headers.Authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`;\n  }\n\n  return req;\n});\n\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\n\nexport const fetchPostsBySearch = (searchQuery) => API.get(`/posts/search?searchQuery=${searchQuery.search || 'none'}&tags=${searchQuery.tags}`) // query params starts with question mark\n\nexport const createPost = (newPost) => API.post('/posts', newPost);\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\nexport const updatePost = (id, updatedPost) => API.patch(`/posts/${id}`, updatedPost);\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\n\nexport const signIn = (formData) => API.post('/users/signin', formData);\nexport const signUp = (formData) => API.post('/users/signup', formData);\n\nexport const fetchUsers = () => API.get('/users');\nexport const updateUser = (id, updatedUser) => API.patch(`/users/profile/${id}`, updatedUser);\n\nexport const fetchConversation = (userId) => API.get(`/chat/conversations/${userId}`);\n\nexport const createConversation = (newConversation) => API.post('/chat/conversations', newConversation);\nexport const createConversationAndMessage = (newConversationAndMessage) => API.post('/chat/conversations', newConversationAndMessage);\n\nexport const fetchMessages = (conversationId) => API.get(`/chat/messages/${conversationId}`);\nexport const createMessage = (newMessage) => API.post('/chat/messages', newMessage);\n\n\n","import { FETCH_POSTS, CREATE, UPDATE, DELETE, LIKE, FETCH, FETCH_BY_SEARCH, START_LOADING, END_LOADING } from '../constants/actionTypes';\nimport * as api from '../api/index.js';\n\n\nexport const getPost = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data } = await api.fetchPost(id);\n\n    dispatch({ type: FETCH, payload: data});\n    dispatch({ type: END_LOADING });\n  }\n  catch (error) {\n    console.log('client>src>action>posts>getPost ERROR: ', error);\n  }\n};\n\nexport const getPosts = (page) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data } = await api.fetchPosts(page);\n    \n    dispatch({ type: FETCH_POSTS, payload: data });\n    dispatch({ type: END_LOADING });\n  } catch (error) {\n    console.log('client>src>action>posts>getPosts: ', error);\n  }\n};\n\nexport const getPostsBySearch = (searchquery) => async (dispatch) => {\n\n  try {\n    dispatch({ type: START_LOADING });\n    //destructure 2 times\n    const { data: { data } } = await api.fetchPostsBySearch(searchquery);\n\n        dispatch({ type: FETCH_BY_SEARCH, payload: data });\n        dispatch({ type: END_LOADING });\n\n\n  } catch(error) {\n\n    console.log('getPostsBySearch error: ', error)\n  }\n}\n//accept the history object that came from the front end\nexport const createPost = (post, history) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data } = await api.createPost(post);\n    history.push(`/posts/${data._id}`)\n    dispatch({ type: CREATE, payload: data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const updatePost = (id, post) => async (dispatch) => {\n  try {\n\n    const { data } = await api.updatePost(id, post);\n    \n    //console.log('action/action/updatePost payload data: ', data);\n    dispatch({ type: UPDATE, payload: data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const likePost = (id) => async (dispatch) => {\n  const user = JSON.parse(localStorage.getItem('profile'));\n\n  try {\n    const { data } = await api.likePost(id, user?.token);\n\n    dispatch({ type: LIKE, payload: data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const deletePost = (id) => async (dispatch) => {\n  try {\n    await await api.deletePost(id);\n\n    dispatch({ type: DELETE, payload: id });\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles({\n  media: {\n    height: 0,\n    paddingTop: '56.25%',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    backgroundBlendMode: 'darken',\n\n  },\n  border: {\n    border: 'solid',\n  },\n  fullHeightCard: {\n    height: '100%',\n  },\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    borderRadius: '15px',\n    height: '100%',\n    position: 'relative',\n  },\n  overlay: {\n    position: 'absolute',\n    top: '20px',\n    left: '20px',\n    color: 'white',\n  },\n  overlay2: {\n    position: 'absolute',\n    top: '20px',\n    right: '20px',\n    color: 'white',\n  },\n  grid: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: '20px',\n  },\n  title: {\n    padding: '0 16px',\n  },\n  cardActions: {\n    padding: '0 16px 8px 16px',\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  cardAction: {\n    display: 'block',\n    textAlign: 'initial',\n  },\n});\n","import React, { useState } from 'react';\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography, ButtonBase } from '@material-ui/core/';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\nimport { useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport { likePost, deletePost } from '../../../actions/posts';\nimport useStyles from './styles';\nimport { useHistory } from 'react-router-dom'\n// import io from 'socket.io-client';\n// let socket;\n// const ENDPOINT = 'localhost:5555';\n\nconst Post = ({ post, setCurrentId }) => {\n\n  // message debugger...\n  console.log('[POST] ', post);\n\n  //THIS SELECTOR WILL FIND THE UPDATED POST AND RE-RENDER THE UPDATED DATA..\n  //const updatedPost = useSelector((state) => (state.posts.find((post) => post._id === post._id)));\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const history = useHistory();\n\n  //socket = io(ENDPOINT);\n  const [like, setLike] = useState(false);\n\n  // useEffect(() => {\n  //     console.log(\n  //       '-[POST] 1ST useEffect ','\\n',\n  //       'likes: ', post.likes.length,'\\n',\n  //       'title', post.title\n  //       );\n\n  // },[post]);\n\n\n  // useEffect(() => {\n\n  //   console.log(\n  //     '-[POST] 2ND useEffect ','\\n',\n  //     'likes: ', post.likes.length,'\\n',\n  //     'title:', post.title\n  //     );\n\n  //     socket.on('updateLike', () => {\n  //     console.log('-[POST] ',\n  //     '2ND  useEffect when like is clicked => received => dataFrom => server => io.emit.');\n  //     setLike(true);\n   \n  //   });\n  // }, []); \n\n  const handleLikesEvent = () => {\n\n         dispatch(likePost(post._id));\n  }\n\n  const Likes = () => { \n      //console.log('-[POST] THIS LINE IS BELOW Likes()');\n      if (post?.likes?.length > 0) {\n        return post.likes.find((like) => like === (user?.result?.googleId || user?.result?._id))\n          ? (\n            <><ThumbUpAltIcon fontSize=\"small\" />&nbsp;{post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${post.likes.length} like${post.likes.length > 1 ? 's' : ''}` }</>\n          ) : (\n            <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;{post.likes.length} {post.likes.length === 1 ? 'Like' : 'Likes'}</>\n          );\n      }    \n\n      return <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;Like</>;    \n  };\n\n  const openPost = () => history.push(`/posts/${post._id}`);\n\n  console.log('[G]userId: ',user?.result?._id,'postCreator: ', post?.creator)\n\n  return (\n    <Card className={classes.card} raised elevation={6}>\n      <ButtonBase\n       component=\"span\"\n       className={classes.cardAction} \n       onClick={openPost}\n       >\n          <CardMedia className={classes.media} image={post.selectedFile || 'https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png'} title={post.title} />\n          <div className={classes.overlay}>\n            <Typography variant=\"h6\">{post.owner}</Typography>\n            <Typography variant=\"body2\">{moment(post.createdAt).fromNow()}</Typography>\n          </div>\n          {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) && (\n          <div className={classes.overlay2}>\n            <Button onClick={() => setCurrentId(post._id)} style={{ color: 'white' }} size=\"small\">\n              <MoreHorizIcon fontSize=\"default\" />\n            </Button>\n          </div>\n          )}\n          <div className={classes.details}>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\n          </div>\n          <Typography className={classes.title} gutterBottom variant=\"h5\" component=\"h2\">{post.title}</Typography>\n          <CardContent>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{post.message}</Typography>\n          </CardContent>\n      </ButtonBase>\n      <CardActions className={classes.cardActions}>\n        {/* <Button size=\"small\" color=\"primary\" disabled={!user?.result} onClick={() => dispatch(likePost(post._id))}> */}\n        <Button size=\"small\" color=\"primary\" disabled={!user?.result} onClick={handleLikesEvent}>\n\n          <Likes /> \n        </Button>\n        {/* {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) && ( */}\n        {(user?.result?._id !== undefined && user?.result?._id === post?.creator) && (\n        <Button size=\"small\" color=\"secondary\" onClick={() => dispatch(deletePost(post._id))}>\n          <DeleteIcon fontSize=\"small\" /> Delete\n        </Button>\n        )}\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Post;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  mainContainer: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  smMargin: {\n    margin: theme.spacing(1),\n  },\n  actionDiv: {\n    textAlign: 'center',\n  },\n}));\n","import React from 'react';\nimport { Grid, CircularProgress } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport Post from './Post/Post';\nimport useStyles from './styles';\n\nconst Posts = ({ setCurrentId }) => {\n\n  const classes = useStyles();\n  const { posts, isLoading } = useSelector((state) => state.posts);\n\n  console.log('[POSTS] useSelector posts: ', posts);\n\n\n  if(!posts.length && !isLoading) return 'No posts'\n\n  return (\n    isLoading ? <CircularProgress /> : (\n      <Grid className={classes.container} container alignItems=\"stretch\" spacing={3}>\n        {posts?.map((post) => (\n          <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\n            <Post post={post} setCurrentId={setCurrentId} />\n          </Grid>\n        ))}\n      </Grid>\n    )\n  );\n\n\n};\n\nexport default Posts;\n","\nimport { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n    },\n  },\n  paper: {\n    padding: theme.spacing(2),\n  },\n  form: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  fileInput: {\n    width: '97%',\n    margin: '10px 0',\n  },\n  buttonSubmit: {\n    marginBottom: 10,\n  },\n}));\n","import React, { useState, useEffect } from 'react';\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FileBase from 'react-file-base64';\nimport { createPost, updatePost } from '../../actions/posts';\nimport useStyles from './styles';\nimport { useHistory } from 'react-router-dom';\n\nconst Form = ({ currentId, setCurrentId }) => {\n\n  const [postData, setPostData] = useState({ title: '', owner: '', message: '', tags: '', selectedFile: '' });\n  const post = useSelector((state) => (currentId ? state.posts.posts.find((message) => message._id === currentId) : null)) ;\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const history = useHistory();\n\n  useEffect(() => {\n    if (post) setPostData(post);\n  }, [post]);\n\n  const clear = () => {\n    setCurrentId(0);\n    setPostData({ title: '', owner: '', message: '', tags: '', selectedFile: '' });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (currentId === 0) {\n      dispatch(createPost({ ...postData, owner: user?.result?.firstname }, history));\n      // do not call the history here like <history.push>\n      clear();\n    } else {\n      \n      dispatch(updatePost(currentId, { ...postData, owner: user?.result?.firstname}));\n      clear();\n    }\n  };\n\n  if (!user?.result?._id) {\n    return (\n      <Paper className={classes.paper}>\n        <Typography variant=\"h6\" align=\"center\">\n          Please Sign In to upload photo/s \n        </Typography>\n      </Paper>\n    );\n  }\n\n  return (\n    <Paper className={classes.paper} elevation={6}>\n      <form autoComplete=\"off\" noValidate className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}>\n        <Typography variant=\"h6\">{currentId ? `Editing \"${post.title}\"` : 'Creating a Post'}</Typography>\n        <TextField name=\"title\" variant=\"outlined\" label=\"Title\" fullWidth value={postData.title} onChange={(e) => setPostData({ ...postData, title: e.target.value })} />\n        <TextField name=\"message\" variant=\"outlined\" label=\"Message\" fullWidth multiline rows={4} value={postData.message} onChange={(e) => setPostData({ ...postData, message: e.target.value })} />\n        <TextField name=\"tags\" variant=\"outlined\" label=\"Tags (coma separated)\" fullWidth value={postData.tags} onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(',') })} />\n        <div className={classes.fileInput}><FileBase type=\"file\" multiple={false} onDone={({ base64 }) => setPostData({ ...postData, selectedFile: base64 })} /></div>\n        <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fullWidth>Submit</Button>\n        <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fullWidth>Clear</Button>\n      </form>\n    </Paper>\n  );\n};\n\nexport default Form;\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(() => ({\r\n    ul: {\r\n        justifyContent: 'space-around'\r\n    }\r\n}))","import React, { useEffect } from 'react'\r\nimport { Pagination, PaginationItem } from '@material-ui/lab';\r\nimport useStyles from './styles';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getPosts } from '../actions/posts';\r\n\r\nconst Paginate = ({ page }) => {\r\n\r\n    const { numberOfPages } = useSelector((state) => state.posts)\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if(page) dispatch(getPosts(page));\r\n   \r\n      \r\n      }, [page]);\r\n\r\n    return (\r\n        <Pagination\r\n            classes={{ ul: classes.ul }}\r\n            count={numberOfPages}\r\n            page={Number(page) || 1}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            renderItem={(item) => (\r\n                <PaginationItem {...item} component={Link} to={`/posts?page=${item.page}`} />\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Paginate;","\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBarSearch: {\r\n    borderRadius: 4,\r\n    marginBottom: '1rem',\r\n    display: 'flex',\r\n    padding: '16px',\r\n  },\r\n\r\n  pagination: {\r\n    borderRadius: 4,\r\n    marginTop: '1rem',\r\n    padding: '16px',\r\n  },\r\n\r\n  gridContainer: {\r\n    display: 'flex',\r\n    [theme.breakpoints.down('xs')]: {\r\n      flexDirection: 'column-reverse',\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n        flexDirection: 'column-reverse',\r\n      },\r\n  },\r\n\r\n  mainDiv: {\r\n    display: 'flex'\r\n  },\r\n\r\n\r\n}));","\nimport React, { useState } from 'react';\nimport { Container, Grow, Grid , Paper, AppBar, TextField, Button} from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { getPosts, getPostsBySearch } from '../../actions/posts';\nimport Posts from '../Posts/Posts';\nimport Form from '../Form/Form';\nimport Pagination from '../Pagination'\nimport { useHistory, useLocation } from 'react-router-dom';\nimport ChipInput from 'material-ui-chip-input';\nimport useStyles from './styles';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Home = () => {\n  const classes = useStyles();\n  const [currentId, setCurrentId] = useState(0);\n  const dispatch = useDispatch();\n  const query = useQuery();\n  const history = useHistory();\n  const page = query.get('page') || 1;\n  const searchQuery = query.get('searchQuery');\n\n  const [search, setSearch] = useState('');\n  const [tags, setTags] = useState([]);\n\n  // useEffect(() => {\n  //   dispatch(getPosts());\n  \n  // }, [currentId, dispatch]);\n\n    const searchPost = () => {\n      if(search.trim() || tags) {\n        //dispatch -> fetch search posts\n        dispatch(getPostsBySearch({search, tags:  tags.join(',')  }));\n        history.push(`/posts/search?searchQuery=${search || 'none'} &tags=${tags.join(',')}`);\n      } else {\n        history.push('/')\n      }\n    }\n\n    const handleKeyPress = (e) => {\n      if(e.keyCode === 13) {\n        searchPost();\n      }\n    }\n\n    const handleAdd = (tag) => setTags([... tags, tag]);\n    const handleDelete = (tagToDelete) => setTags(tags.filter((tag) => tag !== tagToDelete));\n\n  return (\n    <Grow in>\n      <Container maxWidth=\"xl\">\n        <Grid container justify= \"space-between\" alignItems=\"stretch\"  spacing={3} className={classes.gridContainer} >\n          <Grid item xs={12} sm={6} md={9} >\n            <Posts setCurrentId={setCurrentId} />\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n          <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\"> \n            <TextField \n              name=\"search\" \n              variant=\"outlined\" \n              label=\"Search Posts\" \n              fullWidth\n              value={search} \n              onChange={(e) => setSearch(e.target.value)} \n              onKeyPress={handleKeyPress}\n            />\n            <ChipInput \n              style={{ margin: '10px 0'}}\n              value={tags}\n              onAdd={handleAdd}\n              onDelete={handleDelete}\n              label=\"Search Hash Tags\"\n              variant=\"outlined\"\n            />\n\n            <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\n\n          </AppBar>\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\n\n            {(!searchQuery && !tags.length) && (\n              <Paper elevation={6} className={classes.pagination}>\n              <Pagination page={page} />\n            </Paper>\n            )}\n\n          </Grid>\n        </Grid>\n      </Container>\n    </Grow>\n  );\n\n};\n\nexport default Home;\n","import { makeStyles } from '@material-ui/core/styles';\nimport { deepPurple } from '@material-ui/core/colors';\n\nexport default makeStyles((theme) => ({\n\n  appBar: {\n   \n    borderRadius: 33,\n    margin: '30px 0',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n\n  rightDiv: {\n    display: 'flex',\n    flexDirection: 'row',\n    paddingRight: '3em',\n    fontWeight: 'bold'\n  },\n\n  leftDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: '33px'\n  },\n\n  heading: {\n    color: 'rgba(0,183,255, 1)',\n    fontFamily: 'Segoe UI',\n    textDecoration: 'none',\n    fontSize: '18px'\n  },\n  image: {\n    marginLeft: '15px',\n  },\n\n  profile: {\n    display: 'flex',\n  },\n  userName: {\n    display: 'flex',\n    fontFamily: 'Segoe UI',\n    alignItems: 'center',\n    padding : '11px 11px 11px 11px'\n  },\n\n  avatar: {\n    padding : '11px 11px 11px 11px',\n    color: theme.palette.getContrastText(deepPurple[500]),\n    backgroundColor: deepPurple[500],\n  },\n\n}));\n","import React, { useState, useEffect } from 'react';\nimport { AppBar, Typography, Toolbar, Avatar, Button } from '@material-ui/core';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\n\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const logout = () => {\n    dispatch({ type: actionType.LOGOUT });\n    history.push('/auth');\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n\n  return (\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n        <div className={classes.leftDiv}>\n\n          <Button component={Link} to=\"/\" className={classes.heading}>Home</Button> \n\n              {(user?.result)  && (\n                <div>\n                    {/* <Button component={Link} to=\"/user/profile\" className={classes.heading}> Profile</Button>  */}\n                    <Button component={Link} to=\"/chat\" className={classes.heading}>Messenger</Button> \n                </div>\n              )}\n        </div>\n\n        <div className={classes.rightDiv}>\n            <Toolbar>\n                {user?.result ? \n                (\n                  <div className={classes.profile}>\n                    <Avatar className={classes.avatar} alt={user?.result.firstname} src={user?.result.imageUrl}>{user?.result.firstname.charAt(0)}</Avatar>\n                    <Typography className={classes.userName} variant=\"h6\">{user?.result.firstname}</Typography>\n                    <Button variant=\"contained\" style={{ fontFamily: 'Segoe UI'}} color=\"secondary\" onClick={logout}>Logout</Button>\n                  </div>\n                ) : \n                (\n                  <Button component={Link} to=\"/auth\" variant=\"contained\" color=\"primary\">Sign In</Button>\n                \n                )}\n          </Toolbar>\n        </div>\n\n    </AppBar>\n  );\n};\n\nexport default Navbar;\n","import React, { useEffect, useState }      from 'react';\r\nimport { Toolbar, Box, Link, AppBar, IconButton, MenuItem, Drawer, Button } from '@material-ui/core'; \r\nimport MenuIcon   from '@material-ui/icons/Menu';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    appBar: {\r\n        borderRadius: 33,\r\n        margin: '30px 0',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n      },\r\n\r\n  siteTitle: {\r\n    fontWeight: 'bold',\r\n    letterSpacing: 1.5\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    [theme.breakpoints.up('md')]: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'space-between'\r\n    }\r\n  },\r\n  menuBox: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    [theme.breakpoints.up('md')]: {\r\n      flexDirection: 'row'\r\n    }\r\n  },\r\n  menuOption: {\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up('md')]: {\r\n      paddingLeft: theme.spacing(10)\r\n    },\r\n    color: 'black'\r\n  },\r\n  menuIcon: {\r\n    color: 'black'\r\n  }\r\n  \r\n}));\r\n\r\nexport default function NavigationBar() {\r\n\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    toggleMenu: false,\r\n    toggleMenuOpen: false\r\n  });\r\n  \r\n  const { toggleMenu, toggleMenuOpen } = state;\r\n  \r\n  useEffect(() => {\r\n    \r\n    const setResponsiveness = () => {\r\n      \r\n      return window.innerWidth < 960\r\n        ? setState((prevState) => ({ ...prevState, toggleMenu: true }))\r\n        : setState((prevState) => ({ ...prevState, toggleMenu: false}));\r\n      \r\n    };\r\n    \r\n    setResponsiveness();\r\n    \r\n    window.addEventListener(\"resize\", () => setResponsiveness());\r\n    \r\n  }, []);\r\n  \r\n  \r\n  \r\n  const displayToggleMenu = () => {\r\n    \r\n    const handleToggleMenuOpen = ()  =>  setState((prevState) => ({ ...prevState,  toggleMenuOpen: true })); \r\n    \r\n    const handleToggleMenuClose = () => setState((prevState) => ({ ...prevState, toggleMenuOpen: false }));\r\n    \r\n    return (\r\n      <Toolbar>\r\n        <IconButton {...{ onClick: handleToggleMenuOpen }}>\r\n          <MenuIcon className={classes.menuIcon}/>\r\n        </IconButton>\r\n      \r\n        <Drawer {...{ anchor: 'left', open: toggleMenuOpen, onClose: handleToggleMenuClose }}>\r\n          <div>{ getToggleMenuOptions() }</div>\r\n        </Drawer>\r\n      </Toolbar>\r\n    );\r\n  }\r\n\r\n  const getToggleMenuOptions = () => {\r\n    return ( \r\n      <Box>\r\n        {['home', 'courses', 'sign up'].map((menuOption) => (\r\n            <MenuItem> \r\n              {menuOption} \r\n            </MenuItem>\r\n        ))}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  const metaData = [\r\n    {\r\n      menu: 'Home',\r\n      to: '/'\r\n    },\r\n    {\r\n      menu: 'Messenger',\r\n      to: '/chat'\r\n    }\r\n  ]\r\n  \r\n  const displayLargeMenu = () => {\r\n    return (\r\n      <Toolbar className={classes.toolbar}>\r\n          <Box className={classes.menuBox}>\r\n              <Link component='button'\r\n                    variant='body1' \r\n                    to='/'\r\n                    className={classes.menuOption}\r\n              >\r\n                HOMEsss\r\n              </Link>\r\n\r\n              <Link component='button'\r\n                    variant='body1' \r\n                    to='/chat'\r\n                    className={classes.menuOption}\r\n              >\r\n                MESSENGER\r\n              </Link>\r\n          </Box>\r\n        </Toolbar>\r\n    );\r\n  }\r\n  \r\n  return (\r\n      <AppBar className={classes.appBar} position=\"static\" color=\"inherit\"> \r\n        {toggleMenu ? displayToggleMenu() : displayLargeMenu() }\r\n      </AppBar>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n  },\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  googleButton: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n","import React from 'react';\nimport { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core';\n\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n\nconst Input = ({ name, handleChange, label, half, autoFocus, type, handleShowPassword }) => (\n  <Grid item xs={12} sm={half ? 6 : 12}>\n    <TextField\n      name={name}\n      onChange={handleChange}\n      variant=\"outlined\"\n      required\n      fullWidth\n      label={label}\n      autoFocus={autoFocus}\n      type={type}\n      InputProps={name === 'password' ? {\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <IconButton onClick={handleShowPassword}>\n              {type === 'password' ? <Visibility /> : <VisibilityOff />}\n            </IconButton>\n          </InputAdornment>\n        ),\n      } : null}\n    />\n  </Grid>\n);\n\nexport default Input;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Avatar, Button, Paper, Grid, Typography, Container } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { GoogleLogin } from 'react-google-login';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nimport Icon from './icon';\nimport { signin, signup } from '../../actions/auth';\nimport { AUTH } from '../../constants/actionTypes';\nimport useStyles from './styles';\nimport Input from './Input';\n\nconst initialState = { firstName: '', lastName: '', email: '', password: '', confirmPassword: '' };\n\nconst SignUp = () => {\n  const [form, setForm] = useState(initialState);\n  const [isSignup, setIsSignup] = useState(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const handleShowPassword = () => setShowPassword(!showPassword);\n\n  const switchMode = () => {\n    setForm(initialState);\n    setIsSignup((prevIsSignup) => !prevIsSignup);\n    setShowPassword(false);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSignup) {\n      dispatch(signup(form, history));\n    } else {\n      dispatch(signin(form, history));\n    }\n  };\n\n  const googleSuccess = async (res) => {\n    const result = res?.profileObj;\n    const token = res?.tokenId;\n\n    try {\n      dispatch({ type: AUTH, data: { result, token } });\n\n      history.push('/');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const googleError = () => alert('Google Sign In was unsuccessful. Try again later');\n\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper className={classes.paper} elevation={3}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">{ isSignup ? 'Sign up' : 'Sign in' }</Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={2}>\n            { isSignup && (\n            <>\n              <Input name=\"firstName\" label=\"Firstname\" handleChange={handleChange} autoFocus half />\n              <Input name=\"lastName\" label=\"Lastname\" handleChange={handleChange} half />\n            </>\n            )}\n            <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\n            <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\n            { isSignup && <Input name=\"confirmPassword\" label=\"Repeat Password\" handleChange={handleChange} type=\"password\" /> }\n          </Grid>\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\n            { isSignup ? 'Sign Up' : 'Sign In' }\n          </Button>\n          {/* <GoogleLogin\n            clientId=\"67355013266-7mehrhtmnqjdn9al2i76190hsjfc3dic.apps.googleusercontent.com\"\n            render={(renderProps) => (\n              <Button className={classes.googleButton} color=\"primary\" fullWidth onClick={renderProps.onClick} disabled={renderProps.disabled} startIcon={<Icon />} variant=\"contained\">\n                Google Sign In\n              </Button>\n            )}\n            onSuccess={googleSuccess}\n            onFailure={googleError}\n            cookiePolicy=\"single_host_origin\"\n          /> */}\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Button onClick={switchMode}>\n                { isSignup ? 'Already have an account? Sign in' : \"Don't have an account? Sign Up\" }\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default SignUp;\n","import { AUTH } from '../constants/actionTypes';\nimport * as api from '../api/index.js';\n\nexport const signin = (formData, router) => async (dispatch) => {\n  try {\n    const { data } = await api.signIn(formData);\n\n    dispatch({ type: AUTH, data });\n\n    router.push('/');\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const signup = (formData, router) => async (dispatch) => {\n  try {\n    const { data } = await api.signUp(formData);\n\n    dispatch({ type: AUTH, data });\n\n    router.push('/');\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { FETCH_USERS, UPDATE } from '../constants/actionTypes';\r\nimport * as api from '../api/index.js';\r\n\r\nexport const getUsers = () => async (dispatch) => {\r\n    try {\r\n      const { data } = await api.fetchUsers();\r\n\r\n      dispatch({ type: FETCH_USERS, payload: data });\r\n    } catch(error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const updateUser = (id, user) => async (dispatch) => {\r\n    try {\r\n       const { data } = await api.updateUser(id, user);\r\n       dispatch({ type: UPDATE, payload: data});\r\n     \r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n  },\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 1, 2),\n    float: 'right'\n  },\n  googleButton: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n","import React from 'react';\r\nimport { TextField, Grid } from '@material-ui/core';\r\n\r\nconst Input = ({ name, onChange, label, half, autoFocus, type, value }) => (\r\n    <Grid item xs={12} sm={half ? 6 : 12}>\r\n        <TextField \r\n          type={type}     \r\n          name={name}\r\n          defaultValue = {value}\r\n          onChange={onChange}          \r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth       \r\n          label={label}\r\n          autoFocus={autoFocus}\r\n           \r\n        />\r\n    </Grid>\r\n);\r\n\r\nexport default Input;","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Button, Paper, Grid, Typography, Container, Grow } from '@material-ui/core';\r\nimport { updateUser } from '../../actions/users';\r\nimport useStyles from './styles';\r\nimport Input from './Input';\r\n\r\nconst initialState = { firstname: '', lastname: '', email: '' };\r\n\r\nconst Profile = () => {\r\n    const [form, setForm] = useState(initialState);\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles();\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n\r\n    const currentUserId = user?.result?._id;\r\n    const email = user?.result?.email;\r\n    const firstname = user?.result?.firstname;\r\n    const lastname = user?.result?.lastname;\r\n\r\n    console.log('[PROFILE] currentUserId: ', currentUserId);\r\n    console.log('[PROFILE] handleSubmit/localStorage-email: ', email);\r\n    console.log('[PROFILE] handleSubmit/localStorage-firstname: ', firstname);\r\n    console.log('[PROFILE] handleSubmit/localStorage-lastname: ', lastname);\r\n  \r\n    const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // dispatch(updateUser(currentUserId, {...form, firstName: user?.result?.firstname}));\r\n        dispatch(updateUser(currentUserId, form));\r\n    }\r\n\r\n    return(\r\n      <Grow in>    \r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n        <Paper className={classes.paper} elevation={3}>\r\n\r\n          <Typography component=\"h1\" variant=\"h5\"> Update Profile </Typography>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <Grid container spacing={2}>      \r\n              <Input name=\"firstname\" label=\"Firstname\"  value={firstname} onChange={handleChange}  half />\r\n              <Input name=\"lastname\" label=\"Lastname\" value={lastname}  onChange={handleChange} half />                    \r\n              <Input name=\"email\" label=\"Email Address\" value={email}  onChange={handleChange} type=\"email\" />\r\n\r\n            </Grid>\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n              UPDATE\r\n            </Button>\r\n          </form>\r\n        </Paper>\r\n      </Container>\r\n      </Grow>\r\n    );\r\n};\r\n\r\nexport default Profile;","import { FETCH_MESSAGES, CREATE_MESSAGE, RESET_MESSAGES } from '../../constants/actionTypes';\r\nimport * as api from '../../api/index';\r\n// import history from '../../history';\r\n\r\nexport const getMessages = conversationId => async dispatch => {\r\n        console.log('PAKI CHECK PO PLEASE: ', conversationId)\r\n    try {\r\n        const { data } = await api.fetchMessages(conversationId);\r\n\r\n        dispatch({ type: FETCH_MESSAGES, payload: data});\r\n       // history.push('/chat');\r\n\r\n    } catch (error) {\r\n        console.log('[ERROR]-redux-action-chat-message: ', error.name);\r\n    }\r\n};\r\n\r\nexport const createMessage = message => async dispatch => {\r\n    try {\r\n        const { data } = await api.createMessage(message);\r\n        dispatch({ type: CREATE_MESSAGE, payload: data});\r\n\r\n    } catch (error) {\r\n        console.log('action-createMessage error: ',error);\r\n    }\r\n};\r\n\r\nexport const resetMessages = () => async dispatch => {\r\n    try {\r\n\r\n        dispatch({ type: RESET_MESSAGES});\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\n\r\n\r\n","import { FETCH_CONVERSATION, SET_CONVERSATION_ID, SET_CONVERSATION_WITH, CREATE_CONVERSATION, CREATE_CONVERSATION_AND_MESSAGE, RESET_CONVERSATION_DATA } from '../../constants/actionTypes';\r\nimport * as api from '../../api/index';\r\n\r\nexport const resetConversationData  = () => async dispatch => {\r\n    try {\r\n\r\n        dispatch({ type: RESET_CONVERSATION_DATA});\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n};\r\n\r\nexport const getConversation = (userId) => async (dispatch) => {\r\n    \r\n    try {\r\n        const { data } = await api.fetchConversation(userId);\r\n  \r\n        dispatch({ type: FETCH_CONVERSATION, payload: data});\r\n\r\n    } catch (error) {\r\n        console.log('[ERROR][REDUX-ACTION-GET-CONVERSATION]', error.name);\r\n    }\r\n};\r\n\r\nexport const createConversation = (conversation) => async (dispatch) => {\r\n\r\n    try {\r\n        const { data } = await api.createConversation(conversation);\r\n        dispatch({ type: CREATE_CONVERSATION, payload: data })\r\n\r\n    } catch (error) {\r\n        console.log('[ERROR][REDUX-ACTION-CREATE-CONVERSATION]', error.name);\r\n    }\r\n\r\n}\r\nexport const createConversationAndMessage = (conversationAndMessage) => async (dispatch) => {\r\n        console.log('conversationAndMessageeee: ', conversationAndMessage);\r\n    try {\r\n        const { data } = await api.createConversationAndMessage(conversationAndMessage);\r\n        dispatch({ type: CREATE_CONVERSATION_AND_MESSAGE, payload: data })\r\n\r\n    } catch (error) {\r\n        console.log('[ERROR][REDUX-ACTION-CREATE-CONVERSATION-AND-MESSAGE]', error.name);\r\n    }\r\n\r\n}\r\n\r\nexport const setConversationId = (payload) =>  {\r\n    return {\r\n        type: SET_CONVERSATION_ID,\r\n        payload\r\n    }\r\n};\r\n\r\nexport const setConversationWith = (payload) => {\r\n    return {\r\n        type: SET_CONVERSATION_WITH,\r\n        payload\r\n    }\r\n}\r\n\r\n\r\n","import { CircularProgress, Link, Grid, Paper, Typography } from '@material-ui/core';\r\nimport { deepPurple } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getMessages } from '../../actions/chat/message';\r\nimport { getConversation } from '../../actions/chat/conversation';\r\nimport { setConversationId, setConversationWith } from '../../actions/chat/conversation';\r\nimport io from 'socket.io-client';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\n\r\nlet socket = io('localhost:5555');\r\n\r\nconst useStyles = makeStyles({\r\n\r\n    mainContainer: {\r\n      overflowY: 'auto',\r\n      backgroundColor: '#FFFFFF',\r\n      padding: '11px 11px 11px 11px'\r\n    },\r\n    purple: {\r\n      backgroundColor: deepPurple[500],\r\n    },\r\n    Label: {\r\n      fontWeight: 'bold',\r\n      display: 'flex',\r\n      fontFamily: 'Segoe UI',\r\n      paddingBottom: '9px'\r\n\r\n    },\r\n    UserContent: {\r\n      display: 'flex',\r\n      fontWeight: 'bold',\r\n      fontFamily: 'Segoe UI',\r\n      paddingLeft: '9px'\r\n  },\r\n  \r\n  });\r\n\r\nconst Conversation = () => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const conversation = useSelector((state) => state.conversations);\r\n    const conversation_data = useSelector((state) => state.conversation_data);\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const userId = user?.result?._id;\r\n    const conversationId = conversation_data?.conversation_id; \r\n    const [conversationData, setConversationData] = useState({ conversation_id: '', conversation_name: ''});\r\n\r\n    useEffect(() => {\r\n      if(conversationData.conversation_id !== '' || conversationData.conversation_id.length !== 0 || conversationData.conversation_id !== '') {\r\n        dispatch(getMessages(conversationData.conversation_id));\r\n        dispatch(setConversationId({ conversation_id: conversationData.conversation_id, conversation_name: conversationData.conversation_name }));\r\n        dispatch(setConversationWith(conversation.name));\r\n\r\n      }\r\n\r\n    },[conversationData]);\r\n\r\n    const [updatingFlag, setUpdatingFlag] = useState(0);\r\n \r\n    useEffect(() => {\r\n\r\n        if(updatingFlag !== 0) {\r\n            socket.on('updateMessage', (data) => {\r\n              setUpdatingFlag(data.updatingFlag);\r\n            });\r\n        \r\n            socket.on('updateConversation', (data) => {\r\n              setUpdatingFlag(data.updatingFlag);\r\n            });\r\n\r\n        }\r\n\r\n        dispatch(getConversation(userId));\r\n        if(conversationData.conversation_id !== '') {\r\n          dispatch(getMessages(conversationData.conversation_id));\r\n        }\r\n  \r\n    },[updatingFlag]);\r\n\r\n    const handleClick = data => {\r\n      if(conversationId !== 0 || conversationId.length !== 0 || conversationId !== undefined) {\r\n        setConversationData({...conversationData, ...data});\r\n\r\n      }\r\n    }\r\n\r\n    return(\r\n           !conversation?.length ? <CircularProgress /> : (       \r\n                  <Grid container className={classes.mainContainer} component={Paper} >\r\n                    <Typography className={classes.Label}> INBOX </Typography> \r\n                        {conversation.map((conversation) => (\r\n                          <Grid key={conversation._id} container item lg={12} md={12} sm={12}>\r\n                               <MessageIcon/> \r\n                               <Link  key={conversation.conversation_id} component=\"button\" onClick={() => handleClick({conversation_id: conversation._id, conversation_name: conversation.name})}>                              \r\n                                <Typography className={classes.UserContent}>{conversation.name}</Typography>\r\n                              </Link>\r\n                          </Grid> \r\n\r\n                        ))}            \r\n                  </Grid>)\r\n    );\r\n};\r\n\r\nexport default Conversation;","import React, { useEffect, useState } from 'react';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport './Messages.css';\r\n// import io from 'socket.io-client';\r\n\r\nconst Messages = ({ message }) => {\r\n\r\n    const [justifyContentVal, setJustifyContentVal] = useState(\"\");\r\n    const [backgroundColor, setBackgroundColor] = useState({ color: ''});\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n\r\n    let currentUser = user?.result?._id;\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(message.owner === currentUser) {\r\n            setJustifyContentVal('flex-start');\r\n            setBackgroundColor({...backgroundColor, color: '#2534da'});\r\n        } else {\r\n            setJustifyContentVal('flex-end');\r\n            setBackgroundColor({...backgroundColor, color: '#61658f'});\r\n        }\r\n\r\n    },[message]);\r\n\r\n    return (\r\n        <Grid style={{ display: \"flex\", justifyContent: justifyContentVal }} item xs={12} sm={12} md={12}>    \r\n            <Typography className=\"messageBox\" style={{ background: backgroundColor.color, fontFamily: 'Segoe UI', margin: '1px 3px 1px 3px' }}>\r\n                    {message.content}\r\n            </Typography>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Messages;","import { CircularProgress, Typography, Grid } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getMessages } from '../../actions/chat/message';\r\nimport Messages from './Messages.js';\r\nimport ReactScrollableFeed from 'react-scrollable-feed';\r\nimport io from 'socket.io-client';\r\n\r\nconst useStyles = makeStyles({\r\n  \r\n    scrollFeed: {\r\n      height: 300,\r\n      backgroundColor: '#e0e0e0'\r\n    },\r\n    Label: {\r\n      fontWeight: 'bold',\r\n      fontFamily: 'Segoe UI',\r\n      display: 'flex',\r\n      padding: '11px 11px 11px 11px'\r\n    }\r\n\r\n  \r\n  });\r\n\r\n  let socket = io('localhost:5555');\r\n\r\nconst Message = () => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const messages = useSelector((state) => state.messages);\r\n    const conversation_data = useSelector((state) => state.conversation_data);\r\n\r\n    useEffect(() => {\r\n        if(conversation_data.conversation_id !== undefined) {\r\n       \r\n            dispatch(getMessages(conversation_data.conversation_id));\r\n          \r\n        }\r\n\r\n    },[]);\r\n\r\n\r\n    const [typing, SetTyping] = useState();\r\n\r\n    useEffect(() => {\r\n\r\n            socket.on('typing-activated', data => {\r\n            SetTyping(data);\r\n            console.log('[MESSAGE] socket.on.typing-activated-data: ', data);\r\n            })\r\n    },[typing])\r\n\r\n    const [emitMessageRespond, setEmitMessageRespond] = useState(0);\r\n    useEffect(() => {\r\n\r\n        if(conversation_data.conversation_id !== undefined) {\r\n          console.log('CHEKIRAWWWWWT: ', conversation_data.conversation_id);\r\n          dispatch(getMessages(conversation_data.conversation_id));\r\n\r\n          }\r\n\r\n      socket.on('updateMessage', data => {\r\n        console.log('[MESSAGE]: socket-on-updateMessage ', data);\r\n        setEmitMessageRespond(data);\r\n    });\r\n\r\n    }, [emitMessageRespond])\r\n\r\n    return(\r\n        <>\r\n          <Typography className={classes.Label}> \r\n\r\n            CONVERSATION WITH : &nbsp;&nbsp; \r\n          \r\n            {!conversation_data?.conversation_with?.name?.length \r\n                ? conversation_data.conversation_name \r\n                : conversation_data?.conversation_with?.name\r\n            }\r\n            </Typography>\r\n\r\n          {!messages?.length ? <CircularProgress /> : (\r\n              <ReactScrollableFeed className={classes.scrollFeed}>\r\n                    {messages.map((message) => (\r\n                        <Grid key={message._id} container item xs={12} sm={12} md={12}>\r\n                            <Messages message={message}/>\r\n                        </Grid>\r\n                    ))}          \r\n                </ReactScrollableFeed>\r\n          )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Message;","import React, { useEffect, useState } from 'react';\r\nimport { CircularProgress, Grid, Paper, Typography, Link, Button, Box } from '@material-ui/core';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport { getUsers } from '../../actions/users';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { setConversationWith, resetConversationData } from '../../actions/chat/conversation'\r\nimport {  resetMessages } from '../../actions/chat/message'\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      overflowY: 'auto',\r\n      backgroundColor: '#FFFFFF',\r\n      padding: '11px 11px 11px 11px'\r\n    },\r\n    userLink: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        padding: '3px 3px 3px 3px',\r\n        height: '33px'\r\n    },\r\n    Label: {\r\n        display: 'flex',\r\n        fontWeight: 'bold',\r\n        fontFamily: 'Segoe UI',\r\n        paddingBottom: '9px'\r\n    },\r\n    UserContent: {\r\n        display: 'flex',\r\n        fontWeight: 'bold',\r\n        fontFamily: 'Segoe UI',\r\n        paddingLeft: '9px'\r\n    },\r\n\r\n  });\r\n\r\n\r\nconst UserList = () => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const userlist = useSelector((state) => state.users)\r\n    const conversation_data = useSelector(state => state.conversation_data)\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers());\r\n    },[]);\r\n\r\n    const [participants, setParticipants] = useState({ name: '', id: ''});\r\n\r\n\r\n     useEffect(() => {\r\n         if(participants.length !== 0 || participants !== undefined) {\r\n            //REDUX: Reset the conversation_data when clicking on userlist\r\n            //this reset must go 1st.\r\n            //TODO/TOASK: refactor => w/c is more optimized. reset the whole objects or modify/set the specific props/field *Performance\r\n            dispatch(resetConversationData());\r\n\r\n\r\n            dispatch(setConversationWith(participants));\r\n            dispatch(resetMessages());\r\n           //todo: check if the participants has conversation if null reset the message component into new OR =>\r\n           //optimize userList => show only the user that has no conversation at all to current user logged in\r\n\r\n\r\n         }\r\n\r\n\r\n\r\n     },[participants])\r\n\r\n    return (        \r\n        !userlist?.length ? <CircularProgress /> : (                        \r\n                    <Grid container className={classes.mainContainer} component={Paper} >\r\n                        <Typography className={classes.Label}>USER LIST</Typography> \r\n                        {userlist.map((user) => (\r\n                            <Link key={user._id} className={classes.userLink} component={Paper} elevation={9} onClick={() => setParticipants({name: user.firstname, id: user._id})}>\r\n                              <Button className={classes.UserContent}> { user.firstname }  </Button>  \r\n                                <Button style={{ color: 'black' }} size=\"small\">\r\n                                    <MoreHorizIcon fontSize=\"default\" />\r\n                                </Button>       \r\n                          \r\n                            </Link>       \r\n                        ))}            \r\n                    </Grid>              \r\n            )\r\n    );\r\n}\r\n\r\nexport default UserList","import React, { useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, TextField, Box, Paper } from '@material-ui/core';\r\nimport { createMessage } from '../../actions/chat/message';\r\nimport { createConversationAndMessage } from '../../actions/chat/conversation';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport io from 'socket.io-client';\r\n\r\nlet socket = io('localhost:5555');\r\n\r\nconst useStyles = makeStyles({\r\n\r\n    Box: {\r\n      display: 'flex',\r\n      justifyContent: 'space-around',\r\n      margin: '3px 3px 3px 3px',\r\n    },\r\n    \r\n    messageTextfield : {\r\n      display: 'flex',\r\n      margin: '22px 11px 11px 11px'\r\n  },\r\n    sendButton : {\r\n      display: 'flex',\r\n      margin: '3px 3px 3px 3px',\r\n      fontFamily: 'Segoe UI',\r\n\r\n    },\r\n\r\n\r\n  });\r\n\r\nconst Input = () => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const userId = user?.result?._id;\r\n\r\n    const conversation_data = useSelector((state) => state.conversation_data);\r\n\r\n    console.log('conversation_data: ', conversation_data);\r\n\r\n    const [messsageData, setMessageData] = useState({ owner: '', conversationId : '', content: ''});\r\n\r\n    const [keyPressCount, setKeyPressCount] = useState(0);\r\n    \r\n    //TODO: change this code into const var, useState no need\r\n     const [conAndMsgData] = useState({\r\n      conversation:{\r\n        participants: [], name: '', lastMessageId: 333\r\n      },\r\n      messages: {\r\n        owner: '', conversationId : '', content: ''\r\n      }\r\n     })\r\n\r\n     const [myMessage, setMyMessage] = useState('');\r\n     const conversationId = conversation_data?.conversation_id; \r\n\r\n     const clear = () => {\r\n      setMyMessage('');\r\n     }\r\n  \r\n    const handleMessage = async message => {\r\n        if(conversation_data.conversation_with === undefined) {\r\n          setMessageData({ ...messsageData, content: message })     \r\n          setMyMessage(prev => message);\r\n          console.log('myMessagemyMessagemyMessage ', myMessage);\r\n        } else {\r\n          setMyMessage(message);\r\n      \r\n        }\r\n      };\r\n\r\n      const handleSubmit =  (e) => {\r\n        e.preventDefault();\r\n        clear();\r\n\r\n       if(conversation_data?.conversation_with === undefined) {\r\n\r\n          dispatch(createMessage({...messsageData, owner: userId, conversationId: conversation_data?.conversation_id}));\r\n       \r\n           socket.emit('sendMessage', { type: 'message' }, () => {\r\n                  console.log('[CHAT]: socket.io. emit/sendMessage');\r\n            });\r\n\r\n       } else if (conversation_data?.conversation_with !== undefined) {\r\n\r\n         dispatch(createConversationAndMessage(\r\n           {...conAndMsgData,  \r\n\r\n              conversation: {\r\n                participants: [userId, conversation_data?.conversation_with?.id], \r\n                name: `${conversation_data?.conversation_with?.name}`\r\n              },\r\n              messages: {\r\n                  owner: userId,\r\n                  content: myMessage\r\n              } \r\n           }\r\n          \r\n          ));\r\n\r\n            // create logic: add send_message_type: there are 2 types:\r\n            // 1: update conversation and message \r\n            // 2: message only\r\n           socket.emit('sendMessage', {type: 'conversation-message'});\r\n\r\n       } else {\r\n         console.log('[CHAT]: do nothing...')\r\n       }\r\n\r\n  };\r\n\r\n\r\n    const handleKeyPress = () => {\r\n\r\n      //when user is typing store the number of keypress in let as counter and use that let on logics ahead\r\n      //avoid the enter key here\r\n       setKeyPressCount(prev => prev + 1);\r\n\r\n      console.log('[INPUT] handleKeyPress: ', keyPressCount);\r\n\r\n      socket.emit('typing', { userId: userId, conversationId: conversationId });\r\n\r\n      socket.on('typing-activated', data => {\r\n        console.log('server response: ', data);\r\n      })\r\n    }\r\n\r\n    return (\r\n            <form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n              <Box className={classes.Box} component={Paper}>\r\n              <TextField \r\n                    className={classes.messageTextfield} \r\n                    name=\"message\"\r\n                    variant=\"outlined\" \r\n                    label=\"Send Message...\"\r\n                    fullWidth multiline rows={2} \r\n                    onChange={(e) => handleMessage(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    value={myMessage}\r\n                />\r\n                <Button type=\"submit\" className={classes.sendButton} color=\"primary\" variant=\"contained\"> Send </Button>\r\n              </Box>\r\n\r\n            </form>\r\n    )\r\n};\r\n\r\nexport default Input;","import { Grid, Grow, Container, Paper } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Conversation from './Conversation';\r\nimport Message from './Message';\r\nimport { getConversation } from '../../actions/chat/conversation';\r\nimport UserList from './../User/UserList';\r\nimport Input from './Input';\r\n\r\nconst useStyles = makeStyles({\r\n\r\n  messageBody: {\r\n    padding: 10,\r\n  },\r\n  controller: {\r\n    padding: 10,\r\n  },\r\n \r\n  messageTextfield : {\r\n    margin: '22px 11px 11px 11px'\r\n  },\r\n  messagePaper : {\r\n    paddingTop: 30\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'row'\r\n  },\r\n  padding: {\r\n    padding: '9px 9px 9px 9px'\r\n  }\r\n\r\n});\r\n    \r\nconst Chat = () => {\r\n\r\n    const classes = useStyles();\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const userId = user?.result?._id;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const conversation = useSelector((state) => state.conversations);\r\n\r\n    useEffect(() => {\r\n        dispatch(getConversation(userId));\r\n    },[]);\r\n\r\n  return (\r\n    <Grow in>\r\n    <Container>\r\n        <Grid className={classes.container} container>\r\n           <Grid item xs={12} sm={12} md={12} lg={4} className={classes.padding} elevation={12} >\r\n                <UserList/>\r\n           </Grid>\r\n\r\n           <Grid item xs={12} sm={12} md={12} lg={4}  className={classes.padding} elevation={12} >\r\n                <Conversation /> \r\n           </Grid>\r\n\r\n           <Grid item xs={12} sm={12} md={12} lg={4} className={classes.controller} component={Paper} elevation={12} >\r\n \r\n                {conversation !== null ? <Message /> : null}\r\n                <Input />\r\n            </Grid>\r\n          </Grid>\r\n      </Container>\r\n      </Grow>\r\n  );\r\n}\r\n\r\nexport default Chat;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: '20px',\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    maxHeight: '600px',\r\n\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexWrap: 'wrap',\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  section: {\r\n    borderRadius: '20px',\r\n    margin: '10px',\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: '20px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedPosts: {\r\n    display: 'flex',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: 'flex', justifyContent: 'center', alignItems: 'center', padding: '20px', borderRadius: '15px', height: '39vh',\r\n  },\r\n}));","import React, { useEffect } from 'react';\r\nimport { Paper, Typography, CircularProgress, Divider } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport useStyles from './styles';\r\nimport { getPost, getPostsBySearch } from '../../actions/posts';\r\n\r\nconst PostDetails = () => {\r\n    const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        dispatch(getPost(id))\r\n    },[id])\r\n\r\n    useEffect(() => {\r\n        if(post) {\r\n            // search is none because we are not looking for search, we are only looking for tags, thats what were going to use to recommend the post\r\n            dispatch(getPostsBySearch({ search: 'none', tags: post?.tags.join(',') }));\r\n        }\r\n    }, [post])\r\n\r\n    //check the post and isLoading, before rendering on bottom return\r\n    if(!post) return null;\r\n\r\n    if(isLoading) {\r\n        return <Paper elevation={6} className={classes.loadingPaper}>\r\n            <CircularProgress size=\"7em\" />\r\n        </Paper>\r\n    }\r\n\r\n    const recommendedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n    const openPost = (_id) => history.push(`/posts/${_id}`);\r\n\r\n    return (\r\n        <Paper style={{ padding: '20px', borderRadius: '15px' }} elevation={6}>\r\n            <div className={classes.card}>\r\n                <div className={classes.section}>\r\n                <Typography variant=\"h3\" component=\"h2\">{post.title}</Typography>\r\n                <Typography gutterBottom variant=\"h6\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\r\n                <Typography gutterBottom variant=\"body1\" component=\"p\">{post.message}</Typography>\r\n                <Typography variant=\"h6\">Created by: {post.name}</Typography>\r\n                <Typography variant=\"body1\">{moment(post.createdAt).fromNow()}</Typography>\r\n                <Divider style={{ margin: '20px 0' }} />\r\n                <Typography variant=\"body1\"><strong>Realtime Chat - coming soon!</strong></Typography>\r\n                <Divider style={{ margin: '20px 0' }} />\r\n                <Typography variant=\"body1\"><strong>Comments - coming soon!</strong></Typography>\r\n                <Divider style={{ margin: '20px 0' }} />\r\n                </div>\r\n                <div className={classes.imageSection}>\r\n                <img className={classes.media} src={post.selectedFile || 'https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png'} alt={post.title} />\r\n                </div>\r\n            </div>\r\n            {recommendedPosts.length && (\r\n                <div className={classes.section}>\r\n                    <Typography gutterBottom variant=\"h5\">You might also like</Typography>\r\n                    <Divider />\r\n                    <div className={classes.recommendedPosts}>\r\n                    {recommendedPosts.map(({ title, message, name, likes, selectedFile, _id}) => (\r\n                        <div style={{ margin: '20px', cursor: 'pointer'}} onClick={() => openPost(_id)} key={_id}>\r\n                            <Typography gutterBottom variant=\"h6\">{title}</Typography>\r\n                            <Typography gutterBottom variant=\"subtitle2\">{name}</Typography>\r\n                            <Typography gutterBottom variant=\"subtitle2\">{message}</Typography>\r\n                            <Typography gutterBottom variant=\"subtitle1\">Likes: {likes.length}</Typography>\r\n                            <img src={selectedFile} width=\"200px\" />\r\n                        </div>\r\n                    ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default PostDetails;","import React from 'react';\nimport { Container } from '@material-ui/core';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport Home from './components/Home/Home';\nimport Navbar from './components/Navbar/Navbar';\nimport NavigationBar from './components/Navbar/NavigationBar';\nimport Auth from './components/Auth/Auth';\nimport Profile from './components/User/Profile';\nimport Chat from './components/Chat/Chat';\nimport PostDetails from './components/PostDetails/PostDetails';\n\nconst App = () => {\n\n  const user = JSON.parse(localStorage.getItem('profile'));\n\n  return (\n        <BrowserRouter>\n        <Container maxWidth=\"xl\"> \n          <Navbar />\n          {/* <NavigationBar /> */}\n          <Switch>\n            <Route path=\"/\" exact component={() => <Redirect to=\"/posts\" />} />\n            <Route path=\"/posts\" exact component={Home}/>\n            <Route path=\"/posts/search\" exact component={Home}/>\n            <Route path=\"/posts/:id\"  component={PostDetails}/>\n            <Route path=\"/chat\" exact component={Chat} />\n            <Route path=\"/auth\" exact component={() => (!user ? <Auth /> : <Redirect to=\"/posts\" />)} />\n            <Route path=\"/user/profile\" exact component={Profile}/>\n          </Switch>\n        </Container>\n      </BrowserRouter>\n  );\n}\n\n\n\nexport default App;\n","import * as actionType from '../constants/actionTypes';\n\nconst authReducer = (state = { authData: null }, action) => {\n  switch (action.type) {\n    case actionType.AUTH:\n      localStorage.setItem('profile', JSON.stringify({ ...action?.data }));\n\n      return { ...state, authData: action.data, loading: false, errors: null };\n    case actionType.LOGOUT:\n      localStorage.clear();\n\n      return { ...state, authData: null, loading: false, errors: null };\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { combineReducers } from 'redux';\nimport authReducer from './auth.js';\nimport conversationsReducer from './chat/conversations.js';\nimport messagesReducer from './chat/messages.js';\nimport postsReducer from './posts.js';\nimport usersReducer from './users.js';\n\nimport conversationIdReducer from './chat/conversations-conversation-id.js';\n\nexport default combineReducers({ \n    auth: authReducer,\n    conversations: conversationsReducer,\n    conversation_data: conversationIdReducer,\n    messages: messagesReducer,\n    posts: postsReducer,\n    users: usersReducer\n\n});\n","import { FETCH_CONVERSATION, LOGOUT } from '../../constants/actionTypes';\r\n\r\nexport default (conversations = [], action) => {\r\n    switch (action.type) {\r\n      case FETCH_CONVERSATION: \r\n         return action.payload;\r\n      case LOGOUT:\r\n        return conversations = [];\r\n\r\n      default:\r\n        return conversations;\r\n    }\r\n  };\r\n  ","import {  SET_CONVERSATION_ID, LOGOUT, SET_CONVERSATION_WITH, RESET_CONVERSATION_DATA } from '../../constants/actionTypes';\r\n\r\nexport default (conversation_data = [], action) => {\r\n    switch (action.type) {\r\n        case SET_CONVERSATION_ID:\r\n            return action.payload\r\n        case SET_CONVERSATION_WITH:\r\n            console.log('SET_CONVERSATION_WITH::::::: ', conversation_data, '   ', action)\r\n            return {...conversation_data, conversation_with: action.payload}\r\n        case RESET_CONVERSATION_DATA:\r\n            console.log('RESET_CONVERSATION_DATA::::::: ', conversation_data, '   ', action)\r\n            return conversation_data = []\r\n        case LOGOUT:\r\n            return conversation_data = []\r\n      default:\r\n        return conversation_data;\r\n    }\r\n  };\r\n  ","import { FETCH_MESSAGES, LOGOUT, RESET_MESSAGES } from '../../constants/actionTypes';\r\n\r\nexport default (messages = [], action) => {\r\n    switch (action.type) {\r\n      case FETCH_MESSAGES:\r\n        return action.payload;\r\n      case RESET_MESSAGES:\r\n        return messages = [];\r\n      case LOGOUT:\r\n        return messages = [];\r\n      default:\r\n        return messages;\r\n    }\r\n  };","import _ from 'lodash';\nimport { FETCH_POSTS, FETCH, CREATE, UPDATE, DELETE, LIKE , LOGOUT, FETCH_BY_SEARCH, START_LOADING, END_LOADING } from '../constants/actionTypes';\n\nexport default (state = { isLoading: true, posts: []}, action) => {\n  //console.log('client/src/reducers/chat/posts/action.payload: ', action.payload,'\\n','client/src/reducers/chat/posts/posts: ', posts);\n  switch (action.type) {\n\n    case START_LOADING: \n      return {...state, isLoading: true }\n\n    case END_LOADING: \n      return {...state, isLoading: false }\n    case FETCH:\n      return { ...state, post: action.payload};\n\n    case FETCH_POSTS:\n      return {\n        ...state,\n        posts: action.payload.data,\n        currentPage: action.payload.currentPage,\n        numberOfPages: action.payload.numberOfPages\n      }\n\n    case FETCH_BY_SEARCH:\n        return { ...state, posts: action.payload};\n\n    case LIKE:\n      return { ... state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post))};\n    case CREATE:\n      return { ...state, posts: [...state.posts, action.payload]};\n    case UPDATE:\n      return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post))};\n    case DELETE:\n      return { ...state, posts: state.posts.filter((post) => post._id !== action.payload)};\n\n    case LOGOUT:\n        return state;\n\n    default:\n      return state;\n  }\n};\n\n","import { UPDATE, FETCH_USERS } from '../constants/actionTypes';\r\n\r\nexport default (users = [], action) => {\r\n   // console.log('client/src/reducers/chat/users action.payload: ', action.payload,'\\n','client/src/reducers/chat/users/users: ', users);\r\n    switch (action.type) {\r\n        case FETCH_USERS:\r\n            return action.payload;        \r\n        case UPDATE: \r\n            return users.map((user) => (user._id === action.payload._id ? action.payload: user));\r\n\r\n        default:\r\n            return users; \r\n    }\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport App from './App';\nimport './index.css';\nimport reducers from './reducers/index';\n\n// import { SocketContext, socket } from './context/socket'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n  </Provider>,\n  document.getElementById('root'),\n); \n"],"sourceRoot":""}