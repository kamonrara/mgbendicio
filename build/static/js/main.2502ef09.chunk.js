(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{185:function(e,t,a){e.exports=a(276)},273:function(e,t,a){},274:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=a(10),i=a(48),s=a(158),u=a(305),m=a(26),d=a(17),p=a(96),f=a(12),v=a(315),g=a(304),b=a(306),E=a(313),h=a(300),O=a(175),j=a(7),y=a.n(j),x=a(13),S="LOGOUT",N=a(159),_=a.n(N).a.create({baseURL:"https://merntradebaits.herokuapp.com/"});_.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var w=function(e){return _.get("/posts/".concat(e))},C=function(e){return _.get("/posts?page=".concat(e))},k=function(e){return _.patch("/posts/".concat(e,"/likePost"))},T=function(e,t){return _.patch("/posts/".concat(e),t)},I=function(e){return _.delete("/posts/".concat(e))},A=function(e){return _.post("/users/signin",e)},R=function(e){return _.post("/users/signup",e)},D=function(e,t){return _.patch("/users/profile/".concat(e),t)},L=function(e){return _.get("/chat/conversations/".concat(e))},P=function(e){return _.get("/chat/messages/".concat(e))},F=function(e){return function(){var t=Object(x.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,o=e,_.get("/posts/search?searchQuery=".concat(o.search||"none","&tags=").concat(o.tags));case 4:n=t.sent,r=n.data.data,a({type:"FETCH_BY_SEARCH",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("getPostsBySearch error: ",t.t0);case 13:case"end":return t.stop()}var o}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(x.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"START_LOADING"}),a.next=4,c=e,_.post("/posts",c);case 4:r=a.sent,o=r.data,t.push("/posts/".concat(o._id)),n({type:"CREATE",payload:o}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}var c}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},B=function(e,t){return function(){var a=Object(x.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T(e,t);case 3:r=a.sent,o=r.data,n({type:"UPDATE",payload:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},W=a(303),H=a(298),U=a(178),G=a(299),V=a(176),J=a(301),z=a(302),K=a(163),Y=a.n(K),X=a(165),q=a.n(X),Q=a(164),Z=a.n(Q),$=a(113),ee=a.n($),te=a(89),ae=a.n(te),ne=a(296),re=Object(ne.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},cardAction:{display:"block",textAlign:"initial"}}),oe=function(e){var t,a,o,c,i=e.post,s=e.setCurrentId;console.log("[POST] ",i);var u=Object(l.b)(),m=re(),p=JSON.parse(localStorage.getItem("profile")),v=Object(d.g)(),g=Object(n.useState)(!1),b=Object(f.a)(g,2),E=(b[0],b[1],function(){var e;return(null===i||void 0===i||null===(e=i.likes)||void 0===e?void 0:e.length)>0?i.likes.find((function(e){var t,a;return e===((null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t.googleId)||(null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a._id))}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{fontSize:"small"}),"\xa0",i.likes.length>2?"You and ".concat(i.likes.length-1," others"):"".concat(i.likes.length," like").concat(i.likes.length>1?"s":"")):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{fontSize:"small"}),"\xa0",i.likes.length," ",1===i.likes.length?"Like":"Likes"):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{fontSize:"small"}),"\xa0Like")});return r.a.createElement(H.a,{className:m.card,raised:!0,elevation:6},r.a.createElement(U.a,{component:"span",className:m.cardAction,onClick:function(){return v.push("/posts/".concat(i._id))}},r.a.createElement(G.a,{className:m.media,image:i.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:i.title}),r.a.createElement("div",{className:m.overlay},r.a.createElement(V.a,{variant:"h6"},i.owner),r.a.createElement(V.a,{variant:"body2"},ae()(i.createdAt).fromNow())),((null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t.googleId)===(null===i||void 0===i?void 0:i.creator)||(null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a._id)===(null===i||void 0===i?void 0:i.creator))&&r.a.createElement("div",{className:m.overlay2},r.a.createElement(h.a,{onClick:function(){return s(i._id)},style:{color:"white"},size:"small"},r.a.createElement(Z.a,{fontSize:"default"}))),r.a.createElement("div",{className:m.details},r.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"h2"},i.tags.map((function(e){return"#".concat(e," ")})))),r.a.createElement(V.a,{className:m.title,gutterBottom:!0,variant:"h5",component:"h2"},i.title),r.a.createElement(J.a,null,r.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},i.message))),r.a.createElement(z.a,{className:m.cardActions},r.a.createElement(h.a,{size:"small",color:"primary",disabled:!(null===p||void 0===p?void 0:p.result),onClick:function(){var e;u((e=i._id,function(){var t=Object(x.a)(y.a.mark((function t(a){var n,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("profile")),t.prev=1,t.next=4,k(e,null===n||void 0===n||n.token);case 4:r=t.sent,o=r.data,a({type:"LIKE",payload:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()))}},r.a.createElement(E,null)),((null===p||void 0===p||null===(o=p.result)||void 0===o?void 0:o.googleId)===(null===i||void 0===i?void 0:i.creator)||(null===p||void 0===p||null===(c=p.result)||void 0===c?void 0:c._id)===(null===i||void 0===i?void 0:i.creator))&&r.a.createElement(h.a,{size:"small",color:"secondary",onClick:function(){return u((e=i._id,function(){var t=Object(x.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I(e);case 3:a({type:"DELETE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(q.a,{fontSize:"small"})," Delete")))},ce=Object(ne.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),le=function(e){var t=e.setCurrentId,a=ce(),n=Object(l.c)((function(e){return e.posts})),o=n.posts,c=n.isLoading;return console.log("[POSTS] useSelector posts: ",o),o.length||c?c?r.a.createElement(W.a,null):r.a.createElement(g.a,{className:a.container,container:!0,alignItems:"stretch",spacing:3},null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement(g.a,{key:e._id,item:!0,xs:12,sm:12,md:6,lg:3},r.a.createElement(oe,{post:e,setCurrentId:t}))}))):"No posts"},ie=a(6),se=a(166),ue=a.n(se),me=Object(ne.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),de=function(e){var t,a=e.currentId,o=e.setCurrentId,c=Object(n.useState)({title:"",owner:"",message:"",tags:"",selectedFile:""}),i=Object(f.a)(c,2),s=i[0],u=i[1],m=Object(l.c)((function(e){return a?e.posts.posts.find((function(e){return e._id===a})):null})),p=Object(l.b)(),v=me(),g=JSON.parse(localStorage.getItem("profile")),b=Object(d.g)();Object(n.useEffect)((function(){m&&u(m)}),[m]);var j=function(){o(0),u({title:"",owner:"",message:"",tags:"",selectedFile:""})},S=function(){var e=Object(x.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(p(M(Object(ie.a)(Object(ie.a)({},s),{},{owner:null===g||void 0===g||null===(n=g.result)||void 0===n?void 0:n.firstname}),b)),j()):(p(B(a,Object(ie.a)(Object(ie.a)({},s),{},{owner:null===g||void 0===g||null===(r=g.result)||void 0===r?void 0:r.firstname}))),j());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===g||void 0===g||null===(t=g.result)||void 0===t?void 0:t._id)?r.a.createElement(O.a,{className:v.paper,elevation:6},r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:"".concat(v.root," ").concat(v.form),onSubmit:S},r.a.createElement(V.a,{variant:"h6"},a?'Editing "'.concat(m.title,'"'):"Creating a Memory"),r.a.createElement(E.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:s.title,onChange:function(e){return u(Object(ie.a)(Object(ie.a)({},s),{},{title:e.target.value}))}}),r.a.createElement(E.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:s.message,onChange:function(e){return u(Object(ie.a)(Object(ie.a)({},s),{},{message:e.target.value}))}}),r.a.createElement(E.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:s.tags,onChange:function(e){return u(Object(ie.a)(Object(ie.a)({},s),{},{tags:e.target.value.split(",")}))}}),r.a.createElement("div",{className:v.fileInput},r.a.createElement(ue.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return u(Object(ie.a)(Object(ie.a)({},s),{},{selectedFile:t}))}})),r.a.createElement(h.a,{className:v.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0},"Submit"),r.a.createElement(h.a,{variant:"contained",color:"secondary",size:"small",onClick:j,fullWidth:!0},"Clear"))):r.a.createElement(O.a,{className:v.paper},r.a.createElement(V.a,{variant:"h6",align:"center"},"Please Sign In to create your own memories and like other's memories."))},pe=a(317),fe=a(314),ve=Object(ne.a)((function(){return{ul:{justifyContent:"space-around"}}})),ge=function(e){var t=e.page,a=Object(l.c)((function(e){return e.posts})).numberOfPages,o=ve(),c=Object(l.b)();return Object(n.useEffect)((function(){t&&c(function(e){return function(){var t=Object(x.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,C(e);case 4:n=t.sent,r=n.data,a({type:"FETCH_POSTS",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("client>src>action>posts>getPosts: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]),r.a.createElement(pe.a,{classes:{ul:o.ul},count:a,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return r.a.createElement(fe.a,Object.assign({},e,{component:m.b,to:"/posts?page=".concat(e.page)}))}})},be=a(167),Ee=a.n(be),he=a(28),Oe=Object(ne.a)((function(e){var t;return{appBarSearch:{borderRadius:4,marginBottom:"1rem",display:"flex",padding:"16px"},pagination:{borderRadius:4,marginTop:"1rem",padding:"16px"},gridContainer:(t={},Object(he.a)(t,e.breakpoints.down("xs"),{flexDirection:"column-reverse"}),Object(he.a)(t,e.breakpoints.down("md"),{flexDirection:"column-reverse"}),t)}}));var je=function(){var e=Oe(),t=Object(n.useState)(0),a=Object(f.a)(t,2),o=a[0],c=a[1],i=Object(l.b)(),s=new URLSearchParams(Object(d.h)().search),m=Object(d.g)(),j=s.get("page")||1,y=s.get("searchQuery"),x=Object(n.useState)(""),S=Object(f.a)(x,2),N=S[0],_=S[1],w=Object(n.useState)([]),C=Object(f.a)(w,2),k=C[0],T=C[1],I=function(){N.trim()||k?(i(F({search:N,tags:k.join(",")})),m.push("/posts/search?searchQuery=".concat(N||"none"," &tags=").concat(k.join(",")))):m.push("/")};return r.a.createElement(v.a,{in:!0},r.a.createElement(u.a,{maxWidth:"xl"},r.a.createElement(g.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3,className:e.gridContainer},r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:9},r.a.createElement(le,{setCurrentId:c})),r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(b.a,{className:e.appBarSearch,position:"static",color:"inherit"},r.a.createElement(E.a,{name:"search",variant:"outlined",label:"Search Memories",fullWidth:!0,value:N,onChange:function(e){return _(e.target.value)},onKeyPress:function(e){13===e.keyCode&&I()}}),r.a.createElement(Ee.a,{style:{margin:"10px 0"},value:k,onAdd:function(e){return T([].concat(Object(p.a)(k),[e]))},onDelete:function(e){return T(k.filter((function(t){return t!==e})))},label:"Search Tags",variant:"outlined"}),r.a.createElement(h.a,{onClick:I,className:e.searchButton,variant:"contained",color:"primary"},"Search")),r.a.createElement(de,{currentId:o,setCurrentId:c}),!y&&!k.length&&r.a.createElement(O.a,{elevation:6,className:e.pagination},r.a.createElement(ge,{page:j}))))))},ye=a(308),xe=a(316),Se=a(168),Ne=a(307),_e=Object(ne.a)((function(e){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between"},leftDiv:{display:"flex",alignItems:"center",paddingLeft:"33px"},rightDiv:{display:"flex",flexDirection:"row",paddingRight:"33px"},heading:{color:"rgba(0,183,255, 1)",textDecoration:"none",fontSize:"16px"},image:{marginLeft:"15px"},profile:{display:"flex"},userName:{display:"flex",alignItems:"center",padding:"11px 11px 11px 11px"},avatar:{padding:"11px 11px 11px 11px",color:e.palette.getContrastText(Ne.a[500]),backgroundColor:Ne.a[500]}}})),we=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(f.a)(e,2),a=t[0],o=t[1],c=Object(l.b)(),i=Object(d.h)(),s=Object(d.g)(),u=_e(),p=function(){c({type:S}),s.push("/auth"),o(null)};return Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.token;e&&(1e3*Object(Se.a)(e).exp<(new Date).getTime()&&p());o(JSON.parse(localStorage.getItem("profile")))}),[i]),r.a.createElement(b.a,{className:u.appBar,position:"static",color:"inherit"},r.a.createElement("div",{className:u.leftDiv},r.a.createElement(V.a,{component:m.b,to:"/",className:u.heading,variant:"h2",align:"center"},"Home")," \xa0",(null===a||void 0===a?void 0:a.result)&&r.a.createElement("div",null,r.a.createElement(V.a,{component:m.b,to:"/user/profile",className:u.heading,variant:"h2",align:"center"},"Profile"),"\xa0",r.a.createElement(V.a,{component:m.b,to:"/chat",className:u.heading,variant:"h2",align:"center"},"Messenger"))),r.a.createElement("div",{className:u.rightDiv},r.a.createElement(ye.a,null,(null===a||void 0===a?void 0:a.result)?r.a.createElement("div",{className:u.profile},r.a.createElement(xe.a,{className:u.avatar,alt:null===a||void 0===a?void 0:a.result.firstname,src:null===a||void 0===a?void 0:a.result.imageUrl},null===a||void 0===a?void 0:a.result.firstname.charAt(0)),r.a.createElement(V.a,{className:u.userName,variant:"h6"},null===a||void 0===a?void 0:a.result.firstname),r.a.createElement(h.a,{variant:"contained",color:"secondary",onClick:p},"Logout")):r.a.createElement(h.a,{component:m.b,to:"/auth",variant:"contained",color:"primary"},"Sign In"))))},Ce=(a(239),a(171)),ke=a.n(Ce),Te=Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Ie=a(309),Ae=a(310),Re=a(169),De=a.n(Re),Le=a(170),Pe=a.n(Le),Fe=function(e){var t=e.name,a=e.handleChange,n=e.label,o=e.half,c=e.autoFocus,l=e.type,i=e.handleShowPassword;return r.a.createElement(g.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(E.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c,type:l,InputProps:"password"===t?{endAdornment:r.a.createElement(Ie.a,{position:"end"},r.a.createElement(Ae.a,{onClick:i},"password"===l?r.a.createElement(De.a,null):r.a.createElement(Pe.a,null)))}:null}))},Me={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Be=function(){var e=Object(n.useState)(Me),t=Object(f.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(f.a)(c,2),s=i[0],m=i[1],p=Object(l.b)(),v=Object(d.g)(),b=Te(),E=Object(n.useState)(!1),j=Object(f.a)(E,2),S=j[0],N=j[1],_=function(e){return o(Object(ie.a)(Object(ie.a)({},a),{},Object(he.a)({},e.target.name,e.target.value)))};return r.a.createElement(u.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,{className:b.paper,elevation:3},r.a.createElement(xe.a,{className:b.avatar},r.a.createElement(ke.a,null)),r.a.createElement(V.a,{component:"h1",variant:"h5"},s?"Sign up":"Sign in"),r.a.createElement("form",{className:b.form,onSubmit:function(e){var t,n;e.preventDefault(),p(s?(t=a,n=v,function(){var e=Object(x.a)(y.a.mark((function e(a){var r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:r=e.sent,o=r.data,a({type:"AUTH",data:o}),n.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):function(e,t){return function(){var a=Object(x.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A(e);case 3:r=a.sent,o=r.data,n({type:"AUTH",data:o}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,v))}},r.a.createElement(g.a,{container:!0,spacing:2},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{name:"firstName",label:"Firstname",handleChange:_,autoFocus:!0,half:!0}),r.a.createElement(Fe,{name:"lastName",label:"Lastname",handleChange:_,half:!0})),r.a.createElement(Fe,{name:"email",label:"Email Address",handleChange:_,type:"email"}),r.a.createElement(Fe,{name:"password",label:"Password",handleChange:_,type:S?"text":"password",handleShowPassword:function(){return N(!S)}}),s&&r.a.createElement(Fe,{name:"confirmPassword",label:"Repeat Password",handleChange:_,type:"password"})),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit},s?"Sign Up":"Sign In"),r.a.createElement(g.a,{container:!0,justify:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(h.a,{onClick:function(){o(Me),m((function(e){return!e})),N(!1)}},s?"Already have an account? Sign in":"Don't have an account? Sign Up"))))))},We=function(e,t){return function(){var a=Object(x.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D(e,t);case 3:r=a.sent,o=r.data,n({type:"UPDATE",payload:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},He=Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,1,2),float:"right"},googleButton:{marginBottom:e.spacing(2)}}})),Ue=function(e){var t=e.name,a=e.onChange,n=e.label,o=e.half,c=e.autoFocus,l=e.type,i=e.value;return r.a.createElement(g.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(E.a,{type:l,name:t,defaultValue:i,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c}))},Ge={firstname:"",lastname:"",email:""},Ve=function(){var e,t,a,o,c=Object(n.useState)(Ge),i=Object(f.a)(c,2),s=i[0],m=i[1],d=Object(l.b)(),p=He(),b=JSON.parse(localStorage.getItem("profile")),E=null===b||void 0===b||null===(e=b.result)||void 0===e?void 0:e._id,j=null===b||void 0===b||null===(t=b.result)||void 0===t?void 0:t.email,S=null===b||void 0===b||null===(a=b.result)||void 0===a?void 0:a.firstname,N=null===b||void 0===b||null===(o=b.result)||void 0===o?void 0:o.lastname;console.log("[PROFILE] currentUserId: ",E),console.log("[PROFILE] handleSubmit/localStorage-email: ",j),console.log("[PROFILE] handleSubmit/localStorage-firstname: ",S),console.log("[PROFILE] handleSubmit/localStorage-lastname: ",N);var _=function(e){return m(Object(ie.a)(Object(ie.a)({},s),{},Object(he.a)({},e.target.name,e.target.value)))},w=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(We(E,s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{in:!0},r.a.createElement(u.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,{className:p.paper,elevation:3},r.a.createElement(V.a,{component:"h1",variant:"h5"}," Update Profile "),r.a.createElement("form",{className:p.form,onSubmit:w},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(Ue,{name:"firstname",label:"Firstname",value:S,onChange:_,half:!0}),r.a.createElement(Ue,{name:"lastname",label:"Lastname",value:N,onChange:_,half:!0}),r.a.createElement(Ue,{name:"email",label:"Email Address",value:j,onChange:_,type:"email"})),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit},"UPDATE")))))},Je=a(311),ze=function(e){return function(){var t=Object(x.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("PAKI CHECK PO PLEASE: ",e),t.prev=1,t.next=4,P(e);case 4:n=t.sent,r=n.data,a({type:"FETCH_MESSAGES",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("[ERROR]-redux-action-chat-message: ",t.t0.name);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Ke=function(e){return function(){var t=Object(x.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:n=t.sent,r=n.data,a({type:"FETCH_CONVERSATION",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("[ERROR][REDUX-ACTION-GET-CONVERSATION]",t.t0.name);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ye=function(e){return{type:"SET_CONVERSATION_WITH",payload:e}},Xe=a(67),qe=a.n(Xe),Qe=a(172),Ze=a.n(Qe),$e=qe()("localhost:5555"),et=Object(ne.a)({mainContainer:{overflowY:"auto",backgroundColor:"#fda01d"},purple:{backgroundColor:Ne.a[500]},Label:{fontWeight:"bold",display:"flex"}}),tt=function(){var e,t=et(),a=Object(l.b)(),o=Object(l.c)((function(e){return e.conversations})),c=Object(l.c)((function(e){return e.conversation_data})),i=JSON.parse(localStorage.getItem("profile")),s=null===i||void 0===i||null===(e=i.result)||void 0===e?void 0:e._id,u=null===c||void 0===c?void 0:c.conversation_id,m=Object(n.useState)({conversation_id:"",conversation_name:""}),d=Object(f.a)(m,2),p=d[0],v=d[1];Object(n.useEffect)((function(){""===p.conversation_id&&0===p.conversation_id.length&&""===p.conversation_id||(a(ze(p.conversation_id)),a({type:"SET_CONVERSATION",payload:{conversation_id:p.conversation_id,conversation_name:p.conversation_name}}),a(Ye(o.name)))}),[p]);var b=Object(n.useState)(0),E=Object(f.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){0!==h&&($e.on("updateMessage",(function(e){j(e.updatingFlag)})),$e.on("updateConversation",(function(e){j(e.updatingFlag)}))),a(Ke(s)),""!==p.conversation_id&&a(ze(p.conversation_id))}),[h]);return(null===o||void 0===o?void 0:o.length)?r.a.createElement(g.a,{container:!0,className:t.mainContainer,component:O.a},r.a.createElement(V.a,{className:t.Label}," My Inbox "),o.map((function(e){return r.a.createElement(g.a,{key:e._id,container:!0,item:!0,lg:12,md:12,sm:12},r.a.createElement(Ze.a,null),r.a.createElement(Je.a,{key:e.conversation_id,component:"button",onClick:function(){return t={conversation_id:e._id,conversation_name:e.name},void(0===u&&0===u.length&&void 0===u||v(Object(ie.a)(Object(ie.a)({},p),t)));var t}},r.a.createElement(V.a,null,e.name)))}))):r.a.createElement(W.a,null)},at=(a(273),function(e){var t,a=e.message,o=Object(n.useState)(""),c=Object(f.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)({color:""}),u=Object(f.a)(s,2),m=u[0],d=u[1],p=JSON.parse(localStorage.getItem("profile")),v=null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t._id;return Object(n.useEffect)((function(){a.owner===v?(i("flex-start"),d(Object(ie.a)(Object(ie.a)({},m),{},{color:"#2534da"}))):(i("flex-end"),d(Object(ie.a)(Object(ie.a)({},m),{},{color:"#61658f"})))}),[a]),r.a.createElement(g.a,{style:{display:"flex",justifyContent:l},item:!0,xs:12,sm:12,md:12},r.a.createElement(V.a,{className:"messageBox",style:{background:m.color}},a.content))}),nt=a(173),rt=Object(ne.a)({scrollFeed:{height:200,backgroundColor:"#e0e0e0"},Label:{fontWeight:"bold",display:"flex",padding:"11px 11px 11px 11px"}}),ot=qe()("localhost:5555"),ct=function(){var e,t,a,o=rt(),c=Object(l.b)(),i=Object(l.c)((function(e){return e.messages})),s=Object(l.c)((function(e){return e.conversation_data}));Object(n.useEffect)((function(){void 0!==s.conversation_id&&c(ze(s.conversation_id))}),[]);var u=Object(n.useState)(),m=Object(f.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){ot.on("typing-activated",(function(e){p(e),console.log("[MESSAGE] socket.on.typing-activated-data: ",e)}))}),[d]);var v=Object(n.useState)(0),b=Object(f.a)(v,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){void 0!==s.conversation_id&&(console.log("CHEKIRAWWWWWT: ",s.conversation_id),c(ze(s.conversation_id))),ot.on("updateMessage",(function(e){console.log("[MESSAGE]: socket-on-updateMessage ",e),h(e)}))}),[E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:o.Label},"CONVERSATION WITH : \xa0\xa0",(null===s||void 0===s||null===(e=s.conversation_with)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.length)?null===s||void 0===s||null===(a=s.conversation_with)||void 0===a?void 0:a.name:s.conversation_name),(null===i||void 0===i?void 0:i.length)?r.a.createElement(nt.a,{className:o.scrollFeed},i.map((function(e){return r.a.createElement(g.a,{key:e._id,container:!0,item:!0,xs:12,sm:12,md:12},r.a.createElement(at,{message:e}))}))):r.a.createElement(W.a,null))},lt=Object(ne.a)({mainContainer:{display:"flex",flexDirection:"column",overflowY:"auto",backgroundColor:"#fda01d",padding:"11px 11px 11px 11px"},userLink:{display:"flex"},Label:{display:"flex",fontWeight:"bold"}}),it=function(){var e=lt(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.users}));Object(l.c)((function(e){return e.conversation_data}));Object(n.useEffect)((function(){t(function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/users");case 3:a=e.sent,n=a.data,t({type:"FETCH_USERS",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var o=Object(n.useState)({name:"",id:""}),c=Object(f.a)(o,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){0===i.length&&void 0===i||(t(function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"RESET_CONVERSATION_DATA"})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(Ye(i)),t(function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"RESET_MESSAGES"})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[i]),(null===a||void 0===a?void 0:a.length)?r.a.createElement(g.a,{container:!0,className:e.mainContainer,component:O.a},r.a.createElement(V.a,{className:e.Label},"List of users"),a.map((function(t){return r.a.createElement(Je.a,{key:t._id,className:e.userLink,component:"button",onClick:function(){return s({name:t.firstname,id:t._id})}},r.a.createElement(V.a,null," ",t.firstname,"  "))}))):r.a.createElement(W.a,null)},st=qe()("localhost:5555"),ut=Object(ne.a)({sendButton:{display:"flex",justifyContent:"flex-end"},messageTextfield:{margin:"22px 11px 11px 11px"}}),mt=function(){var e,t=ut(),a=Object(l.b)(),o=JSON.parse(localStorage.getItem("profile")),c=null===o||void 0===o||null===(e=o.result)||void 0===e?void 0:e._id,i=Object(l.c)((function(e){return e.conversation_data}));console.log("conversation_data: ",i);var s=Object(n.useState)({owner:"",conversationId:"",content:""}),u=Object(f.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(0),v=Object(f.a)(p,2),g=v[0],b=v[1],O=Object(n.useState)({conversation:{participants:[],name:"",lastMessageId:333},messages:{owner:"",conversationId:"",content:""}}),j=Object(f.a)(O,1)[0],S=Object(n.useState)(""),N=Object(f.a)(S,2),w=N[0],C=N[1],k=null===i||void 0===i?void 0:i.conversation_id,T=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i.conversation_with?(d(Object(ie.a)(Object(ie.a)({},m),{},{content:t})),C((function(e){return t})),console.log("myMessagemyMessagemyMessage ",w)):C(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:function(e){if(e.preventDefault(),C(""),void 0===(null===i||void 0===i?void 0:i.conversation_with))a((o=Object(ie.a)(Object(ie.a)({},m),{},{owner:c,conversationId:null===i||void 0===i?void 0:i.conversation_id}),function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=o,_.post("/chat/messages",r);case 3:a=e.sent,n=a.data,t({type:"CREATE_MESSAGE",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("action-createMessage error: ",e.t0);case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),st.emit("sendMessage",{type:"message"},(function(){console.log("[CHAT]: socket.io. emit/sendMessage")}));else if(void 0!==(null===i||void 0===i?void 0:i.conversation_with)){var t,n;a((r=Object(ie.a)(Object(ie.a)({},j),{},{conversation:{participants:[c,null===i||void 0===i||null===(t=i.conversation_with)||void 0===t?void 0:t.id],name:"".concat(null===i||void 0===i||null===(n=i.conversation_with)||void 0===n?void 0:n.name)},messages:{owner:c,content:w}}),function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("conversationAndMessageeee: ",r),e.prev=1,e.next=4,o=r,_.post("/chat/conversations",o);case 4:a=e.sent,n=a.data,t({type:"CREATE_CONVERSATION_AND_MESSAGE",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("[ERROR][REDUX-ACTION-CREATE-CONVERSATION-AND-MESSAGE]",e.t0.name);case 12:case"end":return e.stop()}var o}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),st.emit("sendMessage",{type:"conversation-message"})}else console.log("[CHAT]: do nothing...");var r,o}},r.a.createElement(E.a,{className:t.messageTextfield,name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:2,onChange:function(e){return T(e.target.value)},onKeyPress:function(){b((function(e){return e+1})),console.log("[INPUT] handleKeyPress: ",g),st.emit("typing",{userId:c,conversationId:k}),st.on("typing-activated",(function(e){console.log("server response: ",e)}))},value:w}),r.a.createElement(h.a,{type:"submit",className:t.sendButton,color:"primary",variant:"contained"}," Send "))},dt=Object(ne.a)({messageBody:{padding:10},controller:{padding:10},messageTextfield:{margin:"22px 11px 11px 11px"},messagePaper:{paddingTop:30},container:{display:"flex",flexDirection:"row"}}),pt=function(){var e,t=dt(),a=JSON.parse(localStorage.getItem("profile")),o=null===a||void 0===a||null===(e=a.result)||void 0===e?void 0:e._id,c=Object(l.b)(),i=Object(l.c)((function(e){return e.conversations}));return Object(n.useEffect)((function(){c(Ke(o))}),[]),r.a.createElement(v.a,{in:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{className:t.container,container:!0},r.a.createElement(g.a,{item:!0,xs:12,sm:12,md:12,lg:4,className:t.userList},r.a.createElement(it,null)),r.a.createElement(g.a,{item:!0,xs:12,sm:12,md:12,lg:4,className:t.userList},r.a.createElement(tt,null)),r.a.createElement(g.a,{item:!0,xs:12,sm:12,md:12,lg:4,className:t.controller},null!==i?r.a.createElement(ct,null):null,r.a.createElement(mt,null)))))},ft=a(312),vt=Object(ne.a)((function(e){return{media:{borderRadius:"20px",objectFit:"cover",width:"100%",maxHeight:"600px"},card:Object(he.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column"}),section:{borderRadius:"20px",margin:"10px",flex:1},imageSection:Object(he.a)({marginLeft:"20px"},e.breakpoints.down("sm"),{marginLeft:0}),recommendedPosts:Object(he.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column"}),loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"15px",height:"39vh"}}})),gt=function(){var e=Object(l.c)((function(e){return e.posts})),t=e.post,a=e.posts,o=e.isLoading,c=Object(l.b)(),i=Object(d.g)(),s=vt(),u=Object(d.i)().id;if(Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(x.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,w(e);case 4:n=t.sent,r=n.data,a({type:"FETCH",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("client>src>action>posts>getPost ERROR: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(u))}),[u]),Object(n.useEffect)((function(){t&&c(F({search:"none",tags:null===t||void 0===t?void 0:t.tags.join(",")}))}),[t]),!t)return null;if(o)return r.a.createElement(O.a,{elevation:6,className:s.loadingPaper},r.a.createElement(W.a,{size:"7em"}));var m=a.filter((function(e){return e._id!==t._id}));return r.a.createElement(O.a,{style:{padding:"20px",borderRadius:"15px"},elevation:6},r.a.createElement("div",{className:s.card},r.a.createElement("div",{className:s.section},r.a.createElement(V.a,{variant:"h3",component:"h2"},t.title),r.a.createElement(V.a,{gutterBottom:!0,variant:"h6",color:"textSecondary",component:"h2"},t.tags.map((function(e){return"#".concat(e," ")}))),r.a.createElement(V.a,{gutterBottom:!0,variant:"body1",component:"p"},t.message),r.a.createElement(V.a,{variant:"h6"},"Created by: ",t.name),r.a.createElement(V.a,{variant:"body1"},ae()(t.createdAt).fromNow()),r.a.createElement(ft.a,{style:{margin:"20px 0"}}),r.a.createElement(V.a,{variant:"body1"},r.a.createElement("strong",null,"Realtime Chat - coming soon!")),r.a.createElement(ft.a,{style:{margin:"20px 0"}}),r.a.createElement(V.a,{variant:"body1"},r.a.createElement("strong",null,"Comments - coming soon!")),r.a.createElement(ft.a,{style:{margin:"20px 0"}})),r.a.createElement("div",{className:s.imageSection},r.a.createElement("img",{className:s.media,src:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",alt:t.title}))),m.length&&r.a.createElement("div",{className:s.section},r.a.createElement(V.a,{gutterBottom:!0,variant:"h5"},"You might also like"),r.a.createElement(ft.a,null),r.a.createElement("div",{className:s.recommendedPosts},m.map((function(e){var t=e.title,a=e.message,n=e.name,o=e.likes,c=e.selectedFile,l=e._id;return r.a.createElement("div",{style:{margin:"20px",cursor:"pointer"},onClick:function(){return function(e){return i.push("/posts/".concat(e))}(l)},key:l},r.a.createElement(V.a,{gutterBottom:!0,variant:"h6"},t),r.a.createElement(V.a,{gutterBottom:!0,variant:"subtitle2"},n),r.a.createElement(V.a,{gutterBottom:!0,variant:"subtitle2"},a),r.a.createElement(V.a,{gutterBottom:!0,variant:"subtitle1"},"Likes: ",o.length),r.a.createElement("img",{src:c,width:"200px"}))})))))},bt=function(){var e=JSON.parse(localStorage.getItem("profile"));return r.a.createElement(m.a,null,r.a.createElement(u.a,{maxWidth:"xl"},r.a.createElement(we,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,component:function(){return r.a.createElement(d.a,{to:"/posts"})}}),r.a.createElement(d.b,{path:"/posts",exact:!0,component:je}),r.a.createElement(d.b,{path:"/posts/search",exact:!0,component:je}),r.a.createElement(d.b,{path:"/posts/:id",component:gt}),r.a.createElement(d.b,{path:"/chat",exact:!0,component:pt}),r.a.createElement(d.b,{path:"/auth",exact:!0,component:function(){return e?r.a.createElement(d.a,{to:"/posts"}):r.a.createElement(Be,null)}}),r.a.createElement(d.b,{path:"/user/profile",exact:!0,component:Ve}))))},Et=(a(274),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(ie.a)({},null===t||void 0===t?void 0:t.data))),Object(ie.a)(Object(ie.a)({},e),{},{authData:t.data,loading:!1,errors:null});case S:return localStorage.clear(),Object(ie.a)(Object(ie.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}}),ht=(a(275),Object(i.c)({auth:Et,conversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONVERSATION":return t.payload;case S:return[];default:return e}},conversation_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONVERSATION":return t.payload;case"SET_CONVERSATION_WITH":return console.log("SET_CONVERSATION_WITH::::::: ",e,"   ",t),Object(ie.a)(Object(ie.a)({},e),{},{conversation_with:t.payload});case"RESET_CONVERSATION_DATA":return console.log("RESET_CONVERSATION_DATA::::::: ",e,"   ",t),[];case S:return[];default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MESSAGES":return t.payload;case"RESET_MESSAGES":case S:return[];default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(ie.a)(Object(ie.a)({},e),{},{isLoading:!0});case"END_LOADING":return Object(ie.a)(Object(ie.a)({},e),{},{isLoading:!1});case"FETCH":return Object(ie.a)(Object(ie.a)({},e),{},{post:t.payload});case"FETCH_POSTS":return Object(ie.a)(Object(ie.a)({},e),{},{posts:t.payload.data,currentPage:t.payload.currentPage,numberOfPages:t.payload.numberOfPages});case"FETCH_BY_SEARCH":return Object(ie.a)(Object(ie.a)({},e),{},{posts:t.payload});case"LIKE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"CREATE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[t.payload])});case"UPDATE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});case S:default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return t.payload;case"UPDATE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}}})),Ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,jt=Object(i.e)(ht,Ot(Object(i.a)(s.a)));c.a.render(r.a.createElement(l.a,{store:jt},r.a.createElement(bt,null)),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.2502ef09.chunk.js.map