(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{204:function(e,t,a){e.exports=a(294)},291:function(e,t,a){},292:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),l=a(11),i=a(55),s=a(177),u=a(329),m=a(27),d=a(18),p=a(109),f=a(13),g=a(327),v=a(326),b=a(330),E=a(337),h=a(322),O=a(196),x=a(8),y=a.n(x),j=a(15),S="LOGOUT",N=a(178),w=a.n(N).a.create({baseURL:"https://merntradebaits.herokuapp.com/"});w.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var _=function(e){return w.get("/posts/".concat(e))},C=function(e){return w.get("/posts?page=".concat(e))},k=function(e){return w.patch("/posts/".concat(e,"/likePost"))},I=function(e,t){return w.patch("/posts/".concat(e),t)},T=function(e){return w.delete("/posts/".concat(e))},A=function(e){return w.post("/users/signin",e)},F=function(e){return w.post("/users/signup",e)},R=function(e,t){return w.patch("/users/profile/".concat(e),t)},D=function(e){return w.get("/chat/conversations/".concat(e))},L=function(e){return w.get("/chat/messages/".concat(e))},P=function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,o=e,w.get("/posts/search?searchQuery=".concat(o.search||"none","&tags=").concat(o.tags));case 4:n=t.sent,r=n.data.data,a({type:"FETCH_BY_SEARCH",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("getPostsBySearch error: ",t.t0);case 13:case"end":return t.stop()}var o}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"START_LOADING"}),a.next=4,c=e,w.post("/posts",c);case 4:r=a.sent,o=r.data,t.push("/posts/".concat(o._id)),n({type:"CREATE",payload:o}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}var c}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},B=function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I(e,t);case 3:r=a.sent,o=r.data,n({type:"UPDATE",payload:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},M=a(325),H=a(320),W=a(199),V=a(321),G=a(197),z=a(323),J=a(324),Y=a(183),X=a.n(Y),K=a(184),q=a.n(K),Q=a(106),Z=a.n(Q),$=a(129),ee=a.n($),te=a(100),ae=a.n(te),ne=a(318),re=Object(ne.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},cardAction:{display:"block",textAlign:"initial"}}),oe=function(e){var t,a,o,c,i=e.post,s=e.setCurrentId;console.log("[POST] ",i);var u=Object(l.b)(),m=re(),p=JSON.parse(localStorage.getItem("profile")),g=Object(d.g)(),v=Object(n.useState)(!1),b=Object(f.a)(v,2),E=(b[0],b[1],function(){var e;return(null===i||void 0===i||null===(e=i.likes)||void 0===e?void 0:e.length)>0?i.likes.find((function(e){var t,a;return e===((null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t.googleId)||(null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a._id))}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{fontSize:"small"}),"\xa0",i.likes.length>2?"You and ".concat(i.likes.length-1," others"):"".concat(i.likes.length," like").concat(i.likes.length>1?"s":"")):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{fontSize:"small"}),"\xa0",i.likes.length," ",1===i.likes.length?"Like":"Likes"):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{fontSize:"small"}),"\xa0Like")});return r.a.createElement(H.a,{className:m.card,raised:!0,elevation:6},r.a.createElement(W.a,{component:"span",className:m.cardAction,onClick:function(){return g.push("/posts/".concat(i._id))}},r.a.createElement(V.a,{className:m.media,image:i.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:i.title}),r.a.createElement("div",{className:m.overlay},r.a.createElement(G.a,{variant:"h6"},i.owner),r.a.createElement(G.a,{variant:"body2"},ae()(i.createdAt).fromNow())),((null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t.googleId)===(null===i||void 0===i?void 0:i.creator)||(null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a._id)===(null===i||void 0===i?void 0:i.creator))&&r.a.createElement("div",{className:m.overlay2},r.a.createElement(h.a,{onClick:function(){return s(i._id)},style:{color:"white"},size:"small"},r.a.createElement(Z.a,{fontSize:"default"}))),r.a.createElement("div",{className:m.details},r.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"h2"},i.tags.map((function(e){return"#".concat(e," ")})))),r.a.createElement(G.a,{className:m.title,gutterBottom:!0,variant:"h5",component:"h2"},i.title),r.a.createElement(z.a,null,r.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p"},i.message))),r.a.createElement(J.a,{className:m.cardActions},r.a.createElement(h.a,{size:"small",color:"primary",disabled:!(null===p||void 0===p?void 0:p.result),onClick:function(){var e;u((e=i._id,function(){var t=Object(j.a)(y.a.mark((function t(a){var n,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("profile")),t.prev=1,t.next=4,k(e,null===n||void 0===n||n.token);case 4:r=t.sent,o=r.data,a({type:"LIKE",payload:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()))}},r.a.createElement(E,null)),void 0!==(null===p||void 0===p||null===(o=p.result)||void 0===o?void 0:o._id)&&(null===p||void 0===p||null===(c=p.result)||void 0===c?void 0:c._id)===(null===i||void 0===i?void 0:i.creator)&&r.a.createElement(h.a,{size:"small",color:"secondary",onClick:function(){return u((e=i._id,function(){var t=Object(j.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:a({type:"DELETE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(q.a,{fontSize:"small"})," Delete")))},ce=Object(ne.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),le=function(e){var t=e.setCurrentId,a=ce(),n=Object(l.c)((function(e){return e.posts})),o=n.posts,c=n.isLoading;return console.log("[POSTS] useSelector posts: ",o),o.length||c?c?r.a.createElement(M.a,null):r.a.createElement(v.a,{className:a.container,container:!0,alignItems:"stretch",spacing:3},null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement(v.a,{key:e._id,item:!0,xs:12,sm:12,md:6,lg:3},r.a.createElement(oe,{post:e,setCurrentId:t}))}))):"No posts"},ie=a(7),se=a(185),ue=a.n(se),me=Object(ne.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),de=function(e){var t,a=e.currentId,o=e.setCurrentId,c=Object(n.useState)({title:"",owner:"",message:"",tags:"",selectedFile:""}),i=Object(f.a)(c,2),s=i[0],u=i[1],m=Object(l.c)((function(e){return a?e.posts.posts.find((function(e){return e._id===a})):null})),p=Object(l.b)(),g=me(),v=JSON.parse(localStorage.getItem("profile")),b=Object(d.g)();Object(n.useEffect)((function(){m&&u(m)}),[m]);var x=function(){o(0),u({title:"",owner:"",message:"",tags:"",selectedFile:""})},S=function(){var e=Object(j.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(p(U(Object(ie.a)(Object(ie.a)({},s),{},{owner:null===v||void 0===v||null===(n=v.result)||void 0===n?void 0:n.firstname}),b)),x()):(p(B(a,Object(ie.a)(Object(ie.a)({},s),{},{owner:null===v||void 0===v||null===(r=v.result)||void 0===r?void 0:r.firstname}))),x());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t._id)?r.a.createElement(O.a,{className:g.paper,elevation:6},r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:"".concat(g.root," ").concat(g.form),onSubmit:S},r.a.createElement(G.a,{variant:"h6"},a?'Editing "'.concat(m.title,'"'):"Creating a Post"),r.a.createElement(E.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:s.title,onChange:function(e){return u(Object(ie.a)(Object(ie.a)({},s),{},{title:e.target.value}))}}),r.a.createElement(E.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:s.message,onChange:function(e){return u(Object(ie.a)(Object(ie.a)({},s),{},{message:e.target.value}))}}),r.a.createElement(E.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:s.tags,onChange:function(e){return u(Object(ie.a)(Object(ie.a)({},s),{},{tags:e.target.value.split(",")}))}}),r.a.createElement("div",{className:g.fileInput},r.a.createElement(ue.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return u(Object(ie.a)(Object(ie.a)({},s),{},{selectedFile:t}))}})),r.a.createElement(h.a,{className:g.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0},"Submit"),r.a.createElement(h.a,{variant:"contained",color:"secondary",size:"small",onClick:x,fullWidth:!0},"Clear"))):r.a.createElement(O.a,{className:g.paper},r.a.createElement(G.a,{variant:"h6",align:"center"},"Please Sign In to upload photo/s"))},pe=a(343),fe=a(339),ge=Object(ne.a)((function(){return{ul:{justifyContent:"space-around"}}})),ve=function(e){var t=e.page,a=Object(l.c)((function(e){return e.posts})).numberOfPages,o=ge(),c=Object(l.b)();return Object(n.useEffect)((function(){t&&c(function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,C(e);case 4:n=t.sent,r=n.data,a({type:"FETCH_POSTS",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("client>src>action>posts>getPosts: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]),r.a.createElement(pe.a,{classes:{ul:o.ul},count:a,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return r.a.createElement(fe.a,Object.assign({},e,{component:m.b,to:"/posts?page=".concat(e.page)}))}})},be=a(186),Ee=a.n(be),he=a(26),Oe=Object(ne.a)((function(e){var t;return{appBarSearch:{borderRadius:4,marginBottom:"1rem",display:"flex",padding:"16px"},pagination:{borderRadius:4,marginTop:"1rem",padding:"16px"},gridContainer:(t={display:"flex"},Object(he.a)(t,e.breakpoints.down("xs"),{flexDirection:"column-reverse"}),Object(he.a)(t,e.breakpoints.down("md"),{flexDirection:"column-reverse"}),t),mainDiv:{display:"flex"}}}));var xe=function(){var e=Oe(),t=Object(n.useState)(0),a=Object(f.a)(t,2),o=a[0],c=a[1],i=Object(l.b)(),s=new URLSearchParams(Object(d.h)().search),m=Object(d.g)(),x=s.get("page")||1,y=s.get("searchQuery"),j=Object(n.useState)(""),S=Object(f.a)(j,2),N=S[0],w=S[1],_=Object(n.useState)([]),C=Object(f.a)(_,2),k=C[0],I=C[1],T=function(){N.trim()||k?(i(P({search:N,tags:k.join(",")})),m.push("/posts/search?searchQuery=".concat(N||"none"," &tags=").concat(k.join(",")))):m.push("/")};return r.a.createElement(g.a,{in:!0},r.a.createElement(u.a,{maxWidth:"xl"},r.a.createElement(v.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3,className:e.gridContainer},r.a.createElement(v.a,{item:!0,xs:12,sm:6,md:9},r.a.createElement(le,{setCurrentId:c})),r.a.createElement(v.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(b.a,{className:e.appBarSearch,position:"static",color:"inherit"},r.a.createElement(E.a,{name:"search",variant:"outlined",label:"Search Posts",fullWidth:!0,value:N,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){13===e.keyCode&&T()}}),r.a.createElement(Ee.a,{style:{margin:"10px 0"},value:k,onAdd:function(e){return I([].concat(Object(p.a)(k),[e]))},onDelete:function(e){return I(k.filter((function(t){return t!==e})))},label:"Search Hash Tags",variant:"outlined"}),r.a.createElement(h.a,{onClick:T,className:e.searchButton,variant:"contained",color:"primary"},"Search")),r.a.createElement(de,{currentId:o,setCurrentId:c}),!y&&!k.length&&r.a.createElement(O.a,{elevation:6,className:e.pagination},r.a.createElement(ve,{page:x}))))))},ye=a(331),je=a(332),Se=a(340),Ne=a(341),we=a(333),_e=a(342),Ce=a(188),ke=a.n(Ce),Ie=a(189),Te=a.n(Ie),Ae=a(187),Fe=Object(ne.a)((function(e){var t;return{siteTitle:{fontWeight:"bold",letterSpacing:1.5},toolbar:Object(he.a)({backgroundColor:"#6db4e3",display:"flex",flexDirection:"row"},e.breakpoints.up("md"),{flexDirection:"row",justifyContent:"space-between"}),menuBox:Object(he.a)({display:"flex",flexDirection:"row"},e.breakpoints.up("md"),{flexDirection:"row"}),menuOption:(t={padding:e.spacing(1)},Object(he.a)(t,e.breakpoints.up("md"),{paddingLeft:e.spacing(10)}),Object(he.a)(t,"color","white"),t),menuIcon:{color:"white",fontSize:"33px"},heading:{display:"flex",fontFamily:"Segoe UI",marginLeft:"33px"},profile:{display:"flex"},userName:{display:"flex",fontFamily:"Segoe UI",alignItems:"center",padding:"11px 11px 11px 11px"},avatar:{padding:"11px 11px 11px 11px",color:"gray",backgroundColor:"white"},leftDiv:{display:"flex",flexDirection:"row",paddingLeft:"33px"},rightDiv:{display:"flex",alignItems:"center",paddingRight:"3em"},mobileBox:{display:"flex"},mobileHeading:{display:"flex",justifyContent:"center",fontFamily:"Segoe UI"}}}));function Re(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(f.a)(e,2),a=t[0],o=t[1],c=Object(l.b)(),i=Object(d.h)(),s=Object(d.g)(),p=Fe(),g=function(){c({type:S}),s.push("/auth"),o(null)};Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.token;e&&(1e3*Object(Ae.a)(e).exp<(new Date).getTime()&&g());o(JSON.parse(localStorage.getItem("profile")))}),[i]);var v=Object(n.useState)({toggleMenu:!1,toggleMenuOpen:!1}),E=Object(f.a)(v,2),O=E[0],x=E[1],y=O.toggleMenu,j=O.toggleMenuOpen;Object(n.useEffect)((function(){var e=function(){return window.innerWidth<960?x((function(e){return Object(ie.a)(Object(ie.a)({},e),{},{toggleMenu:!0})})):x((function(e){return Object(ie.a)(Object(ie.a)({},e),{},{toggleMenu:!1})}))};e(),window.addEventListener("resize",(function(){return e()}))}),[]);var N=function(){return r.a.createElement(Ne.a,{className:p.mobileBox},(null===a||void 0===a?void 0:a.result)?r.a.createElement("div",null,r.a.createElement(h.a,{component:m.b,to:"/",className:p.mobileHeading},"Home"),r.a.createElement(h.a,{component:m.b,to:"/chat",className:p.mobileHeading},"Messenger"),r.a.createElement(we.a,{style:{marginBottom:"11px"}}),r.a.createElement(G.a,{className:p.mobileHeading,variant:"h6"},null===a||void 0===a?void 0:a.result.firstname),r.a.createElement(h.a,{variant:"contained",style:{display:"flex",fontFamily:"Segoe UI"},color:"secondary",onClick:g},"Logout")):r.a.createElement("div",null,r.a.createElement(h.a,{component:m.b,to:"/",className:p.mobileHeading},"Home"),r.a.createElement(h.a,{component:m.b,to:"/auth",variant:"contained",color:"primary",style:{fontFamily:"Segoe UI"}},"Sign In")))};return r.a.createElement(u.a,null,r.a.createElement(b.a,null,y?r.a.createElement(ye.a,{style:{backgroundColor:"#6db4e3"}},r.a.createElement(je.a,{onClick:function(){return x((function(e){return Object(ie.a)(Object(ie.a)({},e),{},{toggleMenuOpen:!0})}))}},r.a.createElement(ke.a,{className:p.menuIcon})),r.a.createElement(Se.a,{anchor:"left",open:j,onClose:function(){return x((function(e){return Object(ie.a)(Object(ie.a)({},e),{},{toggleMenuOpen:!1})}))}},r.a.createElement("div",null,N()))):r.a.createElement(ye.a,{className:p.toolbar},r.a.createElement(Ne.a,{className:p.menuBox},r.a.createElement(Te.a,{style:{fontSize:"33px"}}),r.a.createElement(h.a,{component:m.b,to:"/",className:p.heading},"Home"),(null===a||void 0===a?void 0:a.result)&&r.a.createElement(h.a,{component:m.b,to:"/chat",className:p.heading},"Messenger")),r.a.createElement(Ne.a,{className:p.menuBox},r.a.createElement("div",{className:p.rightDiv},(null===a||void 0===a?void 0:a.result)?r.a.createElement("div",{className:p.profile},r.a.createElement(_e.a,{className:p.avatar,alt:null===a||void 0===a?void 0:a.result.firstname,src:null===a||void 0===a?void 0:a.result.imageUrl},null===a||void 0===a?void 0:a.result.firstname.charAt(0)),r.a.createElement(G.a,{className:p.userName,variant:"h6"},null===a||void 0===a?void 0:a.result.firstname),r.a.createElement(h.a,{variant:"contained",style:{fontFamily:"Segoe UI"},color:"secondary",onClick:g},"Logout")):r.a.createElement(h.a,{component:m.b,to:"/auth",variant:"contained",color:"primary",style:{fontFamily:"Segoe UI"}},"Sign In"))))))}var De=a(192),Le=a.n(De),Pe=Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Ue=a(334),Be=a(190),Me=a.n(Be),He=a(191),We=a.n(He),Ve=function(e){var t=e.name,a=e.handleChange,n=e.label,o=e.half,c=e.autoFocus,l=e.type,i=e.handleShowPassword;return r.a.createElement(v.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(E.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c,type:l,InputProps:"password"===t?{endAdornment:r.a.createElement(Ue.a,{position:"end"},r.a.createElement(je.a,{onClick:i},"password"===l?r.a.createElement(Me.a,null):r.a.createElement(We.a,null)))}:null}))},Ge={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},ze=function(){var e=Object(n.useState)(Ge),t=Object(f.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(f.a)(c,2),s=i[0],m=i[1],p=Object(l.b)(),g=Object(d.g)(),b=Pe(),E=Object(n.useState)(!1),x=Object(f.a)(E,2),S=x[0],N=x[1],w=function(e){return o(Object(ie.a)(Object(ie.a)({},a),{},Object(he.a)({},e.target.name,e.target.value)))};return r.a.createElement(u.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,{className:b.paper,elevation:3},r.a.createElement(_e.a,{className:b.avatar},r.a.createElement(Le.a,null)),r.a.createElement(G.a,{component:"h1",variant:"h5"},s?"Sign up":"Sign in"),r.a.createElement("form",{className:b.form,onSubmit:function(e){var t,n;e.preventDefault(),p(s?(t=a,n=g,function(){var e=Object(j.a)(y.a.mark((function e(a){var r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:r=e.sent,o=r.data,a({type:"AUTH",data:o}),n.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A(e);case 3:r=a.sent,o=r.data,n({type:"AUTH",data:o}),t.push("/posts"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,g))}},r.a.createElement(v.a,{container:!0,spacing:2},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{name:"firstName",label:"Firstname",handleChange:w,autoFocus:!0,half:!0}),r.a.createElement(Ve,{name:"lastName",label:"Lastname",handleChange:w,half:!0})),r.a.createElement(Ve,{name:"email",label:"Email Address",handleChange:w,type:"email"}),r.a.createElement(Ve,{name:"password",label:"Password",handleChange:w,type:S?"text":"password",handleShowPassword:function(){return N(!S)}}),s&&r.a.createElement(Ve,{name:"confirmPassword",label:"Repeat Password",handleChange:w,type:"password"})),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit},s?"Sign Up":"Sign In"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(h.a,{onClick:function(){o(Ge),m((function(e){return!e})),N(!1)}},s?"Already have an account? Sign in":"Don't have an account? Sign Up"))))))},Je=function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R(e,t);case 3:r=a.sent,o=r.data,n({type:"UPDATE",payload:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Ye=Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,1,2),float:"right"},googleButton:{marginBottom:e.spacing(2)}}})),Xe=function(e){var t=e.name,a=e.onChange,n=e.label,o=e.half,c=e.autoFocus,l=e.type,i=e.value;return r.a.createElement(v.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(E.a,{type:l,name:t,defaultValue:i,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c}))},Ke={firstname:"",lastname:"",email:""},qe=function(){var e,t,a,o,c=Object(n.useState)(Ke),i=Object(f.a)(c,2),s=i[0],m=i[1],d=Object(l.b)(),p=Ye(),b=JSON.parse(localStorage.getItem("profile")),E=null===b||void 0===b||null===(e=b.result)||void 0===e?void 0:e._id,x=null===b||void 0===b||null===(t=b.result)||void 0===t?void 0:t.email,S=null===b||void 0===b||null===(a=b.result)||void 0===a?void 0:a.firstname,N=null===b||void 0===b||null===(o=b.result)||void 0===o?void 0:o.lastname;console.log("[PROFILE] currentUserId: ",E),console.log("[PROFILE] handleSubmit/localStorage-email: ",x),console.log("[PROFILE] handleSubmit/localStorage-firstname: ",S),console.log("[PROFILE] handleSubmit/localStorage-lastname: ",N);var w=function(e){return m(Object(ie.a)(Object(ie.a)({},s),{},Object(he.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(Je(E,s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(g.a,{in:!0},r.a.createElement(u.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,{className:p.paper,elevation:3},r.a.createElement(G.a,{component:"h1",variant:"h5"}," Update Profile "),r.a.createElement("form",{className:p.form,onSubmit:_},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(Xe,{name:"firstname",label:"Firstname",value:S,onChange:w,half:!0}),r.a.createElement(Xe,{name:"lastname",label:"Lastname",value:N,onChange:w,half:!0}),r.a.createElement(Xe,{name:"email",label:"Email Address",value:x,onChange:w,type:"email"})),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit},"UPDATE")))))},Qe=a(336),Ze=a(335),$e=function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:n=t.sent,r=n.data,a({type:"FETCH_MESSAGES",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("[ERROR]-redux-action-chat-message: ",t.t0.name);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},et=function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:n=t.sent,r=n.data,a({type:"FETCH_CONVERSATION",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("[ERROR][REDUX-ACTION-GET-CONVERSATION]",t.t0.name);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},tt=function(e){return{type:"SET_CONVERSATION_WITH",payload:e}},at=a(193),nt=a.n(at),rt=a(71),ot=a.n(rt),ct=ot()("localhost:5555"),lt=Object(ne.a)({mainContainer:{overflowY:"auto",backgroundColor:"#FFFFFF",padding:"11px 11px 11px 11px"},purple:{backgroundColor:Ze.a[500]},Label:{fontWeight:"bold",display:"flex",fontFamily:"Segoe UI",paddingBottom:"9px"},UserContent:{display:"flex",fontWeight:"bold",fontFamily:"Segoe UI",paddingLeft:"9px"}}),it=function(){var e,t=lt(),a=Object(l.b)(),o=Object(l.c)((function(e){return e.conversations})),c=Object(l.c)((function(e){return e.conversation_data})),i=JSON.parse(localStorage.getItem("profile")),s=null===i||void 0===i||null===(e=i.result)||void 0===e?void 0:e._id,u=null===c||void 0===c?void 0:c.conversation_id,m=Object(n.useState)({conversation_id:"",conversation_name:""}),d=Object(f.a)(m,2),p=d[0],g=d[1];Object(n.useEffect)((function(){""===p.conversation_id&&0===p.conversation_id.length&&""===p.conversation_id||(a($e(p.conversation_id)),a({type:"SET_CONVERSATION",payload:{conversation_id:p.conversation_id,conversation_name:p.conversation_name}}),a(tt(o.name)))}),[p]);var b=o[o.length-1];'"'.concat(JSON.stringify(b),'"').split(",").map((function(e){var t=e.replace(/['"]+/g,"");if(!0===t.includes("_id")){t.split("_id:").pop();c.conversation_with}}));var E=Object(n.useState)(0),h=Object(f.a)(E,2),x=h[0],y=h[1];Object(n.useEffect)((function(){0!==x&&(ct.on("updateMessage",(function(e){console.log("[CONVERSATION] : socket.on.updateMessage",e),y(e.updatingFlag)})),ct.on("updateConversation",(function(e){console.log("Conversation useEffect updateConversation-data: ",e),y(e.updatingFlag)}))),a(et(s)),console.log("[CONVERSATION]--\x3e"),ct.on("updateMessage",(function(e){console.log("[CONVERSATION] : socket.on.updateMessage",e),y(e.updatingFlag)})),console.log("[CONVERSATION]--|"),""!==p.conversation_id&&a($e(p.conversation_id))}),[x]);var j=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==j.current&&(j.current.click(),console.log("inputRef invoked click(): ",j.current))}),[o]),(null===o||void 0===o?void 0:o.length)?r.a.createElement(v.a,{container:!0,className:t.mainContainer,component:O.a},r.a.createElement(G.a,{className:t.Label}," INBOX "),o.map((function(e){return r.a.createElement(v.a,{key:e._id,container:!0,item:!0,lg:12,md:12,sm:12},r.a.createElement(nt.a,null),r.a.createElement(Qe.a,{ref:j,key:e.conversation_id,component:"button",onClick:function(){return t={conversation_id:e._id,conversation_name:e.name},void(0===u&&0===u.length&&void 0===u||g(Object(ie.a)(Object(ie.a)({},p),t)));var t}},r.a.createElement(G.a,{className:t.UserContent},e.name)))}))):r.a.createElement(M.a,null)},st=(a(291),function(e){var t,a=e.message,o=Object(n.useState)(""),c=Object(f.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)({color:""}),u=Object(f.a)(s,2),m=u[0],d=u[1],p=JSON.parse(localStorage.getItem("profile")),g=null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t._id;return Object(n.useEffect)((function(){a.owner===g?(i("flex-start"),d(Object(ie.a)(Object(ie.a)({},m),{},{color:"#2534da"}))):(i("flex-end"),d(Object(ie.a)(Object(ie.a)({},m),{},{color:"#61658f"})))}),[a]),r.a.createElement(v.a,{style:{display:"flex",justifyContent:l},item:!0,xs:12,sm:12,md:12},r.a.createElement(G.a,{className:"messageBox",style:{background:m.color,fontFamily:"Segoe UI",margin:"1px 3px 1px 3px"}},a.content))}),ut=a(194),mt=Object(ne.a)({scrollFeed:{height:300,backgroundColor:"#e0e0e0"},Label:{fontWeight:"bold",fontFamily:"Segoe UI",display:"flex",padding:"11px 11px 11px 11px"}}),dt=ot()("localhost:5555"),pt=function(){var e,t,a,o,c=mt(),i=Object(l.b)(),s=Object(l.c)((function(e){return e.messages})),u=Object(l.c)((function(e){return e.conversation_data})),m=JSON.parse(localStorage.getItem("profile")),d=null===m||void 0===m||null===(e=m.result)||void 0===e?void 0:e._id;Object(n.useEffect)((function(){void 0!==u.conversation_id&&i($e(u.conversation_id))}),[]);var p=Object(n.useState)(),g=Object(f.a)(p,2),b=g[0],E=g[1];Object(n.useEffect)((function(){dt.on("typing-activated",(function(e){E(e)}))}),[b]);var h=Object(n.useState)(0),O=Object(f.a)(h,2),x=O[0],y=O[1];Object(n.useEffect)((function(){void 0===u.conversation_id&&i(et(d)),void 0!==u.conversation_id&&i($e(u.conversation_id)),dt.on("updateMessage",(function(e){console.log("[Message]: socket-on-updateMessage ",e),y(e)}))}),[x]);var j=Object(n.useState)({conversation_id:"",conversation_name:""}),S=Object(f.a)(j,2),N=S[0];S[1];return Object(n.useEffect)((function(){""===N.conversation_id&&0===N.conversation_id.length&&""===N.conversation_id||i($e(N.conversation_id))}),[N]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{className:c.Label},"CONVERSATION WITH : \xa0\xa0",(null===u||void 0===u||null===(t=u.conversation_with)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.length)?null===u||void 0===u||null===(o=u.conversation_with)||void 0===o?void 0:o.name:u.conversation_name),r.a.createElement(ut.a,{className:c.scrollFeed},s.map((function(e){return r.a.createElement(v.a,{key:e._id,container:!0,item:!0,xs:12,sm:12,md:12},r.a.createElement(st,{message:e}))}))))},ft=Object(ne.a)({mainContainer:{display:"flex",flexDirection:"column",overflowY:"auto",backgroundColor:"#FFFFFF",padding:"11px 11px 11px 11px"},userLink:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"3px 3px 3px 3px",height:"33px"},Label:{display:"flex",fontWeight:"bold",fontFamily:"Segoe UI",paddingBottom:"9px"},UserContent:{display:"flex",fontWeight:"bold",fontFamily:"Segoe UI",paddingLeft:"9px"}}),gt=function(){var e=ft(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.users}));Object(l.c)((function(e){return e.conversation_data}));Object(n.useEffect)((function(){t(function(){var e=Object(j.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/users");case 3:a=e.sent,n=a.data,t({type:"FETCH_USERS",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var o=Object(n.useState)({name:"",id:""}),c=Object(f.a)(o,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){0===i.length&&void 0===i||(t(function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"RESET_CONVERSATION_DATA"})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(tt(i)),t(function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"RESET_MESSAGES"})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[i]),(null===a||void 0===a?void 0:a.length)?r.a.createElement(v.a,{container:!0,className:e.mainContainer,component:O.a},r.a.createElement(G.a,{className:e.Label},"USER LIST"),a.map((function(t){return r.a.createElement(Qe.a,{key:t._id,className:e.userLink,component:O.a,elevation:9,onClick:function(){return s({name:t.firstname,id:t._id})}},r.a.createElement(h.a,{className:e.UserContent}," ",t.firstname,"  "),r.a.createElement(h.a,{style:{color:"black"},size:"small"},r.a.createElement(Z.a,{fontSize:"default"})))}))):r.a.createElement(M.a,null)},vt=ot()("localhost:5555"),bt=Object(ne.a)({Box:{display:"flex",justifyContent:"space-around",margin:"3px 3px 3px 3px"},messageTextfield:{display:"flex",margin:"22px 11px 11px 11px"},sendButton:{display:"flex",margin:"3px 3px 3px 3px",fontFamily:"Segoe UI"}}),Et=function(){var e,t=bt(),a=Object(l.b)(),o=JSON.parse(localStorage.getItem("profile")),c=null===o||void 0===o||null===(e=o.result)||void 0===e?void 0:e._id,i=Object(l.c)((function(e){return e.conversation_data})),s=Object(n.useState)({owner:"",conversationId:"",content:""}),u=Object(f.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(0),g=Object(f.a)(p,2),v=(g[0],g[1]),b=Object(n.useState)({conversation:{participants:[],name:"",lastMessageId:333},messages:{owner:"",conversationId:"",content:""}}),x=Object(f.a)(b,1)[0],S=Object(n.useState)(""),N=Object(f.a)(S,2),_=N[0],C=N[1],k=null===i||void 0===i?void 0:i.conversation_id,I=function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i.conversation_with?(d(Object(ie.a)(Object(ie.a)({},m),{},{content:t})),C((function(e){return t}))):C(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:function(e){if(e.preventDefault(),C(""),void 0===(null===i||void 0===i?void 0:i.conversation_with))a((o=Object(ie.a)(Object(ie.a)({},m),{},{owner:c,conversationId:null===i||void 0===i?void 0:i.conversation_id}),function(){var e=Object(j.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=o,w.post("/chat/messages",r);case 3:a=e.sent,n=a.data,t({type:"CREATE_MESSAGE",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("action-createMessage error: ",e.t0);case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),vt.emit("sendMessage",{type:"message"},(function(){}));else if(void 0!==(null===i||void 0===i?void 0:i.conversation_with)){var t,n;a((r=Object(ie.a)(Object(ie.a)({},x),{},{conversation:{participants:[c,null===i||void 0===i||null===(t=i.conversation_with)||void 0===t?void 0:t.id],name:"".concat(null===i||void 0===i||null===(n=i.conversation_with)||void 0===n?void 0:n.name)},messages:{owner:c,content:_}}),function(){var e=Object(j.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=r,w.post("/chat/conversations",o);case 3:a=e.sent,n=a.data,t({type:"CREATE_CONVERSATION_AND_MESSAGE",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("[ERROR][REDUX-ACTION-CREATE-CONVERSATION-AND-MESSAGE]",e.t0.name);case 11:case"end":return e.stop()}var o}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),vt.emit("sendMessage",{type:"conversation-message"})}else console.log("[CHAT]: do nothing...");var r,o}},r.a.createElement(Ne.a,{className:t.Box,component:O.a},r.a.createElement(E.a,{className:t.messageTextfield,name:"message",variant:"outlined",label:"Send Message...",fullWidth:!0,multiline:!0,rows:2,onChange:function(e){return I(e.target.value)},onKeyPress:function(){v((function(e){return e+1})),vt.emit("typing",{userId:c,conversationId:k}),vt.on("typing-activated",(function(e){}))},value:_}),r.a.createElement(h.a,{type:"submit",className:t.sendButton,color:"primary",variant:"contained"}," Send ")))},ht=Object(ne.a)({messageBody:{padding:10},controller:{padding:10},messageTextfield:{margin:"22px 11px 11px 11px"},messagePaper:{paddingTop:30},container:{display:"flex",flexDirection:"row"},padding:{padding:"9px 9px 9px 9px"}}),Ot=function(){var e,t=ht(),a=JSON.parse(localStorage.getItem("profile")),o=null===a||void 0===a||null===(e=a.result)||void 0===e?void 0:e._id,c=Object(l.b)();return Object(n.useEffect)((function(){c(et(o))}),[]),r.a.createElement(g.a,{in:!0},r.a.createElement(u.a,null,r.a.createElement(v.a,{className:t.container,container:!0},r.a.createElement(v.a,{item:!0,xs:12,sm:12,md:12,lg:4,className:t.padding,elevation:12},r.a.createElement(gt,null)),r.a.createElement(v.a,{item:!0,xs:12,sm:12,md:12,lg:4,className:t.padding,elevation:12},r.a.createElement(it,null)),r.a.createElement(v.a,{item:!0,xs:12,sm:12,md:12,lg:4,className:t.controller,component:O.a,elevation:12},r.a.createElement(pt,null),r.a.createElement(Et,null)))))},xt=Object(ne.a)((function(e){return{media:{borderRadius:"20px",objectFit:"cover",width:"100%",maxHeight:"600px"},card:Object(he.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column"}),section:{borderRadius:"20px",margin:"10px",flex:1},imageSection:Object(he.a)({marginLeft:"20px"},e.breakpoints.down("sm"),{marginLeft:0}),recommendedPosts:Object(he.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column"}),loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"15px",height:"39vh"}}})),yt=function(){var e=Object(l.c)((function(e){return e.posts})),t=e.post,a=e.posts,o=e.isLoading,c=Object(l.b)(),i=Object(d.g)(),s=xt(),u=Object(d.i)().id;if(Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,_(e);case 4:n=t.sent,r=n.data,a({type:"FETCH",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("client>src>action>posts>getPost ERROR: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(u))}),[u]),Object(n.useEffect)((function(){t&&c(P({search:"none",tags:null===t||void 0===t?void 0:t.tags.join(",")}))}),[t]),!t)return null;if(o)return r.a.createElement(O.a,{elevation:6,className:s.loadingPaper},r.a.createElement(M.a,{size:"7em"}));var m=a.filter((function(e){return e._id!==t._id}));return r.a.createElement(O.a,{style:{padding:"20px",borderRadius:"15px"},elevation:6},r.a.createElement("div",{className:s.card},r.a.createElement("div",{className:s.section},r.a.createElement(G.a,{variant:"h3",component:"h2"},t.title),r.a.createElement(G.a,{gutterBottom:!0,variant:"h6",color:"textSecondary",component:"h2"},t.tags.map((function(e){return"#".concat(e," ")}))),r.a.createElement(G.a,{gutterBottom:!0,variant:"body1",component:"p"},t.message),r.a.createElement(G.a,{variant:"h6"},"Created by: ",t.name),r.a.createElement(G.a,{variant:"body1"},ae()(t.createdAt).fromNow()),r.a.createElement(we.a,{style:{margin:"20px 0"}}),r.a.createElement(G.a,{variant:"body1"},r.a.createElement("strong",null,"Realtime Chat - coming soon!")),r.a.createElement(we.a,{style:{margin:"20px 0"}}),r.a.createElement(G.a,{variant:"body1"},r.a.createElement("strong",null,"Comments - coming soon!")),r.a.createElement(we.a,{style:{margin:"20px 0"}})),r.a.createElement("div",{className:s.imageSection},r.a.createElement("img",{className:s.media,src:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",alt:t.title}))),m.length&&r.a.createElement("div",{className:s.section},r.a.createElement(G.a,{gutterBottom:!0,variant:"h5"},"You might also like"),r.a.createElement(we.a,null),r.a.createElement("div",{className:s.recommendedPosts},m.map((function(e){var t=e.title,a=e.message,n=e.name,o=e.likes,c=e.selectedFile,l=e._id;return r.a.createElement("div",{style:{margin:"20px",cursor:"pointer"},onClick:function(){return function(e){return i.push("/posts/".concat(e))}(l)},key:l},r.a.createElement(G.a,{gutterBottom:!0,variant:"h6"},t),r.a.createElement(G.a,{gutterBottom:!0,variant:"subtitle2"},n),r.a.createElement(G.a,{gutterBottom:!0,variant:"subtitle2"},a),r.a.createElement(G.a,{gutterBottom:!0,variant:"subtitle1"},"Likes: ",o.length),r.a.createElement("img",{src:c,width:"200px"}))})))))},jt=function(){var e=JSON.parse(localStorage.getItem("profile"));return r.a.createElement(m.a,null,r.a.createElement(Re,null),r.a.createElement(u.a,{maxWidth:"xl",style:{marginTop:"99px"}},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,component:function(){return r.a.createElement(d.a,{to:"/posts"})}}),r.a.createElement(d.b,{path:"/posts",exact:!0,component:xe}),r.a.createElement(d.b,{path:"/posts/search",exact:!0,component:xe}),r.a.createElement(d.b,{path:"/posts/:id",component:yt}),r.a.createElement(d.b,{path:"/chat",exact:!0,component:Ot}),r.a.createElement(d.b,{path:"/auth",exact:!0,component:function(){return null===e?r.a.createElement(ze,null):r.a.createElement(d.a,{to:"/posts"})}}),r.a.createElement(d.b,{path:"/user/profile",exact:!0,component:qe}))))},St=(a(292),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(ie.a)({},null===t||void 0===t?void 0:t.data))),Object(ie.a)(Object(ie.a)({},e),{},{authData:t.data,loading:!1,errors:null});case S:return localStorage.clear(),Object(ie.a)(Object(ie.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}}),Nt=(a(293),Object(i.c)({auth:St,conversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONVERSATION":return t.payload;case S:return[];default:return e}},conversation_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONVERSATION":return t.payload;case"SET_CONVERSATION_WITH":return Object(ie.a)(Object(ie.a)({},e),{},{conversation_with:t.payload});case"RESET_CONVERSATION_DATA":case S:return[];default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MESSAGES":return t.payload;case"RESET_MESSAGES":case S:return[];default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(ie.a)(Object(ie.a)({},e),{},{isLoading:!0});case"END_LOADING":return Object(ie.a)(Object(ie.a)({},e),{},{isLoading:!1});case"FETCH":return Object(ie.a)(Object(ie.a)({},e),{},{post:t.payload});case"FETCH_POSTS":return Object(ie.a)(Object(ie.a)({},e),{},{posts:t.payload.data,currentPage:t.payload.currentPage,numberOfPages:t.payload.numberOfPages});case"FETCH_BY_SEARCH":return Object(ie.a)(Object(ie.a)({},e),{},{posts:t.payload});case"LIKE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"CREATE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[t.payload])});case"UPDATE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE":return Object(ie.a)(Object(ie.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});case S:default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return t.payload;case"UPDATE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}}})),wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,_t=Object(i.e)(Nt,wt(Object(i.a)(s.a)));c.a.render(r.a.createElement(l.a,{store:_t},r.a.createElement(jt,null)),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.40fd924a.chunk.js.map